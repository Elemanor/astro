---
export interface Props {
  title: string;
  description: string;
  city: string;
  serviceAreas?: string[];
}

const { title, description, city, serviceAreas = [] } = Astro.props;
---

<style>
  /* Emergency Banner */
  .emergency-banner {
    @apply bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-center;
  }
  
  .emergency-banner strong {
    @apply text-red-800;
  }
  
  .emergency-banner a {
    @apply text-red-600 underline hover:text-red-800;
  }
  
  /* Neighborhoods Grid */
  .neighborhoods-grid {
    @apply grid md:grid-cols-2 gap-6 mb-8;
  }
  
  .neighborhoods-grid > div {
    @apply bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow;
  }
  
  .neighborhoods-grid h4 {
    @apply text-lg font-bold text-primary mb-3;
  }
  
  .neighborhoods-grid ul {
    @apply space-y-2 text-sm text-gray-700;
  }
  
  .neighborhoods-grid li {
    @apply flex items-start gap-2;
  }
  
  .neighborhoods-grid li::before {
    content: "•";
    @apply text-gray-400 mt-0.5;
  }
  
  /* Location Content Styles */
  .location-content h2 {
    @apply text-3xl font-bold text-gray-900 mb-6 mt-12;
  }
  
  .location-content h3 {
    @apply text-xl font-bold text-gray-900 mb-4 mt-8;
  }
  
  .location-content h4 {
    @apply text-lg font-semibold text-gray-900 mb-3;
  }
  
  .location-content p {
    @apply text-gray-700 mb-4 leading-relaxed;
  }
  
  .location-content ul {
    @apply list-disc list-inside space-y-2 mb-6 text-gray-700;
  }
  
  .location-content ol {
    @apply list-decimal list-inside space-y-2 mb-6 text-gray-700;
  }
  
  .location-content a {
    @apply text-primary hover:text-primary/80 underline;
  }
  
  .location-content strong {
    @apply font-semibold text-gray-900;
  }
  
  /* Service Cards */
  .service-card {
    @apply bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow;
  }
  
  .service-card h3 {
    @apply text-xl font-bold text-gray-900 mb-3;
  }
  
  .cost-highlight {
    @apply inline-block bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold;
  }
</style>

<article class="location-page">
  <!-- Hero Section -->
  <div class="bg-gradient-to-r from-primary to-blue-600 text-white rounded-xl p-8 mb-8">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">{title}</h1>
      <p class="text-xl opacity-90 mb-6">{description}</p>
      
      <!-- Service Areas -->
      {serviceAreas.length > 0 && (
        <div class="mb-6">
          <p class="text-sm uppercase tracking-wide mb-3 opacity-80">Serving All {city} Neighborhoods</p>
          <div class="flex flex-wrap justify-center gap-2">
            {serviceAreas.map(area => (
              <span class="bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-sm">
                {area}
              </span>
            ))}
          </div>
        </div>
      )}
      
      <!-- CTAs -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="tel:4375450067" class="bg-white text-primary px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors inline-flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
          Call (437) 545-0067
        </a>
        <a href="/contact" class="border-2 border-white text-white px-8 py-3 rounded-lg font-bold hover:bg-white hover:text-primary transition-all">
          Get Free {city} Estimate
        </a>
      </div>
    </div>
  </div>
  
  <!-- Trust Signals -->
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
    {[
      { icon: "🏠", text: "5,000+ Homes Protected" },
      { icon: "⚡", text: "2-Hour Response" },
      { icon: "🛡️", text: "Lifetime Warranty" },
      { icon: "⭐", text: "4.9★ Google Rating" }
    ].map(signal => (
      <div class="bg-gray-50 rounded-lg p-4 text-center">
        <div class="text-2xl mb-2">{signal.icon}</div>
        <p class="text-sm font-semibold text-gray-700">{signal.text}</p>
      </div>
    ))}
  </div>
  
  <!-- Main Content -->
  <div class="location-content max-w-none">
    <slot />
  </div>
  
  <!-- Why Choose Local Section -->
  <section class="my-12 bg-primary/5 rounded-xl p-8">
    <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center">
      Why Choose Local {city} Waterproofing Experts
    </h2>
    <div class="grid md:grid-cols-3 gap-6">
      {[
        {
          icon: "🚗",
          title: "Faster Response",
          description: `Local presence means we reach ${city} homes within 2 hours for emergencies`
        },
        {
          icon: "🏘️",
          title: "Area Knowledge",
          description: `We understand ${city}'s unique soil conditions, weather patterns, and building codes`
        },
        {
          icon: "💰",
          title: "No Travel Fees",
          description: `Being local means lower costs - we pass the savings to ${city} homeowners`
        }
      ].map(benefit => (
        <div class="text-center">
          <div class="text-4xl mb-3">{benefit.icon}</div>
          <h3 class="font-bold text-lg mb-2">{benefit.title}</h3>
          <p class="text-gray-700">{benefit.description}</p>
        </div>
      ))}
    </div>
  </section>
  
  <!-- Service Cards Section -->
  <section class="my-12">
    <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
      Our {city} Waterproofing Services
    </h2>
    <div class="grid md:grid-cols-2 gap-6">
      {[
        {
          title: "Interior Waterproofing",
          description: "Perfect for finished basements. No excavation required.",
          features: ["Minimal disruption", "Year-round installation", "Lifetime warranty"],
          price: "$3,000-$8,000"
        },
        {
          title: "Exterior Waterproofing",
          description: "Maximum protection with full excavation and membrane.",
          features: ["Addresses root cause", "25-year warranty", "Increases home value"],
          price: "$10,000-$25,000"
        },
        {
          title: "Sump Pump Installation",
          description: "Triple protection with battery backup systems.",
          features: ["24/7 protection", "Power outage backup", "Annual maintenance"],
          price: "$2,800-$4,500"
        },
        {
          title: "Foundation Crack Repair",
          description: "Permanent solutions for leaking foundation cracks.",
          features: ["Same-day service", "10-year warranty", "Injection technology"],
          price: "$500-$2,000"
        }
      ].map(service => (
        <div class="service-card">
          <h3>{service.title}</h3>
          <p class="text-gray-700 mb-4">{service.description}</p>
          <ul class="space-y-2 mb-4">
            {service.features.map(feature => (
              <li class="flex items-center gap-2 text-sm">
                <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span>{feature}</span>
              </li>
            ))}
          </ul>
          <div class="flex items-center justify-between">
            <span class="cost-highlight">{service.price}</span>
            <a href="/contact" class="text-primary font-semibold hover:underline">
              Get Quote →
            </a>
          </div>
        </div>
      ))}
    </div>
  </section>
  
  <!-- Local Reviews Section -->
  <section class="my-12 bg-gray-50 rounded-xl p-8">
    <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">
      What {city} Homeowners Say
    </h2>
    <div class="grid md:grid-cols-2 gap-6">
      {[
        {
          name: "Sarah M.",
          area: `${city} Resident`,
          rating: 5,
          text: "Fast response, professional service, and our basement has been dry ever since. Highly recommend!"
        },
        {
          name: "Mike T.",
          area: `${city} Homeowner`,
          rating: 5,
          text: "They understood our local water table issues and provided the perfect solution. Worth every penny."
        }
      ].map(review => (
        <div class="bg-white rounded-lg p-6 shadow">
          <div class="flex items-center justify-between mb-3">
            <div>
              <p class="font-semibold">{review.name}</p>
              <p class="text-sm text-gray-600">{review.area}</p>
            </div>
            <div class="flex text-yellow-400">
              {Array(review.rating).fill("★").map(_ => <span>★</span>)}
            </div>
          </div>
          <p class="text-gray-700 italic">"{review.text}"</p>
        </div>
      ))}
    </div>
  </section>
  
  <!-- Final CTA -->
  <section class="my-12 bg-gradient-to-r from-primary to-blue-600 text-white rounded-xl p-8 text-center">
    <h2 class="text-3xl font-bold mb-4">
      Protect Your {city} Home Today
    </h2>
    <p class="text-xl mb-6 opacity-90">
      Join thousands of satisfied {city} homeowners who trust DrySpace
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a href="tel:4375450067" class="bg-white text-primary px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors">
        📞 Call Now: (437) 545-0067
      </a>
      <a href="/contact" class="border-2 border-white text-white px-8 py-3 rounded-lg font-bold hover:bg-white hover:text-primary transition-all">
        Get Free {city} Estimate
      </a>
    </div>
    <p class="mt-6 text-sm opacity-80">
      Serving all {city} neighborhoods with same-day response
    </p>
  </section>
</article>