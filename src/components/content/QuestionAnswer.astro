---
import { HelpCircle, MessageCircle } from 'lucide-react';

export interface Props {
  question: string;
  answer?: string;
  variant?: 'inline' | 'card' | 'chat';
  icon?: boolean;
  class?: string;
}

const { 
  question,
  answer,
  variant = 'inline',
  icon = true,
  class: className = ''
} = Astro.props;
---

{variant === 'inline' && (
  <div class={`qa-inline my-6 ${className}`}>
    <div class="flex gap-2 items-start mb-2">
      {icon && <HelpCircle className="h-5 w-5 text-primary mt-0.5" client:load />}
      <p class="font-semibold text-lg">{question}</p>
    </div>
    <div class="ml-7 text-muted-foreground">
      {answer ? (
        <p>{answer}</p>
      ) : (
        <slot />
      )}
    </div>
  </div>
)}

{variant === 'card' && (
  <div class={`qa-card my-6 p-6 rounded-lg bg-muted/50 border ${className}`}>
    <div class="flex gap-3 items-start mb-3">
      {icon && (
        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0">
          <HelpCircle className="h-5 w-5 text-primary" client:load />
        </div>
      )}
      <h4 class="font-semibold text-lg flex-1">{question}</h4>
    </div>
    <div class={icon ? 'ml-13' : ''}>
      {answer ? (
        <p class="text-muted-foreground">{answer}</p>
      ) : (
        <div class="text-muted-foreground">
          <slot />
        </div>
      )}
    </div>
  </div>
)}

{variant === 'chat' && (
  <div class={`qa-chat my-6 space-y-4 ${className}`}>
    <div class="flex gap-3">
      <div class="w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0">
        <HelpCircle className="h-4 w-4" client:load />
      </div>
      <div class="flex-1 bg-secondary rounded-lg rounded-tl-none p-4">
        <p class="font-medium">{question}</p>
      </div>
    </div>
    
    <div class="flex gap-3">
      <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center flex-shrink-0">
        <MessageCircle className="h-4 w-4 text-white" client:load />
      </div>
      <div class="flex-1 bg-primary/10 rounded-lg rounded-tl-none p-4">
        {answer ? (
          <p>{answer}</p>
        ) : (
          <slot />
        )}
      </div>
    </div>
  </div>
)}