---
import { CheckCircle, Circle } from 'lucide-react';

export interface Feature {
  title: string;
  description?: string;
  highlight?: boolean;
}

export interface Props {
  title?: string;
  features: Feature[];
  columns?: 1 | 2 | 3 | 4;
  variant?: 'list' | 'cards' | 'compact';
  class?: string;
}

const { 
  title,
  features,
  columns = 2,
  variant = 'list',
  class: className = ''
} = Astro.props;

const gridClasses = {
  1: 'grid-cols-1',
  2: 'grid-cols-1 md:grid-cols-2',
  3: 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3',
  4: 'grid-cols-1 md:grid-cols-2 lg:grid-cols-4'
};
---

<div class={`feature-grid my-8 ${className}`}>
  {title && <h3 class="text-2xl font-bold mb-6">{title}</h3>}
  
  {variant === 'list' && (
    <div class={`grid ${gridClasses[columns]} gap-4`}>
      {features.map(feature => (
        <div class="flex gap-3">
          <CheckCircle 
            className={`h-5 w-5 mt-1 flex-shrink-0 ${
              feature.highlight ? 'text-primary' : 'text-secondary'
            }`} 
            client:load 
          />
          <div>
            <p class={`font-semibold ${feature.highlight ? 'text-primary' : ''}`}>
              {feature.title}
            </p>
            {feature.description && (
              <p class="text-sm text-muted-foreground mt-1">{feature.description}</p>
            )}
          </div>
        </div>
      ))}
    </div>
  )}
  
  {variant === 'cards' && (
    <div class={`grid ${gridClasses[columns]} gap-6`}>
      {features.map(feature => (
        <div class={`p-6 rounded-lg border ${
          feature.highlight ? 'border-primary bg-primary/5' : 'bg-muted/50'
        }`}>
          <h4 class="font-semibold text-lg mb-2">{feature.title}</h4>
          {feature.description && (
            <p class="text-muted-foreground">{feature.description}</p>
          )}
        </div>
      ))}
    </div>
  )}
  
  {variant === 'compact' && (
    <ul class={`grid ${gridClasses[columns]} gap-2`}>
      {features.map(feature => (
        <li class="flex items-center gap-2">
          <Circle className="h-2 w-2 text-primary" client:load />
          <span class={feature.highlight ? 'font-semibold text-primary' : ''}>
            {feature.title}
          </span>
        </li>
      ))}
    </ul>
  )}
</div>