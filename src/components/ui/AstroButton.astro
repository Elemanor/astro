---
import { Button } from './button';
import type { VariantProps } from 'class-variance-authority';
import type { buttonVariants } from './button';

export interface Props extends VariantProps<typeof buttonVariants> {
  href?: string;
  type?: 'button' | 'submit' | 'reset';
  disabled?: boolean;
  class?: string;
  onclick?: string;
  'aria-label'?: string;
}

const { 
  href, 
  variant = 'default', 
  size = 'default', 
  type = 'button',
  disabled = false,
  class: className,
  onclick,
  'aria-label': ariaLabel,
  ...rest 
} = Astro.props;
---

{href ? (
  <a href={href} class:list={[className]} aria-label={ariaLabel}>
    <Button 
      variant={variant} 
      size={size} 
      className="w-full"
      client:load
    >
      <slot />
    </Button>
  </a>
) : (
  <Button 
    variant={variant} 
    size={size} 
    type={type}
    disabled={disabled}
    className={className}
    onClick={onclick}
    aria-label={ariaLabel}
    client:load
    {...rest}
  >
    <slot />
  </Button>
)}