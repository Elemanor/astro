---
export interface Props {
  title: string;
  description: string;
  category?: string;
  readTime?: string;
  lastUpdated?: string;
  author?: string;
}

const { 
  title, 
  description, 
  category = "Homeowner Guide",
  readTime = "10 min read",
  lastUpdated,
  author = "DrySpace Experts"
} = Astro.props;
---

<style>
  /* Guide Content Styles */
  .guide-content {
    @apply prose prose-lg max-w-none;
  }
  
  .guide-content h1 {
    @apply text-4xl font-bold text-gray-900 mb-6;
  }
  
  .guide-content h2 {
    @apply text-3xl font-bold text-gray-900 mb-4 mt-12 pb-2 border-b-2 border-gray-200;
  }
  
  .guide-content h3 {
    @apply text-2xl font-bold text-gray-900 mb-3 mt-8;
  }
  
  .guide-content h4 {
    @apply text-xl font-semibold text-gray-900 mb-2 mt-6;
  }
  
  .guide-content p {
    @apply text-gray-700 mb-4 leading-relaxed;
  }
  
  .guide-content ul {
    @apply list-disc list-inside space-y-2 mb-6 text-gray-700 ml-4;
  }
  
  .guide-content ol {
    @apply list-decimal list-inside space-y-2 mb-6 text-gray-700 ml-4;
  }
  
  .guide-content li {
    @apply leading-relaxed;
  }
  
  .guide-content a {
    @apply text-primary hover:text-primary/80 underline;
  }
  
  .guide-content strong {
    @apply font-semibold text-gray-900;
  }
  
  .guide-content em {
    @apply italic;
  }
  
  /* Tables */
  .guide-content table {
    @apply w-full mb-6 overflow-hidden rounded-lg shadow;
  }
  
  .guide-content thead {
    @apply bg-gray-50;
  }
  
  .guide-content th {
    @apply px-4 py-3 text-left font-semibold text-gray-900 border-b;
  }
  
  .guide-content td {
    @apply px-4 py-3 border-b;
  }
  
  .guide-content tbody tr:hover {
    @apply bg-gray-50;
  }
  
  /* Code Blocks */
  .guide-content code {
    @apply bg-gray-100 px-2 py-1 rounded text-sm font-mono;
  }
  
  .guide-content pre {
    @apply bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto my-6;
  }
  
  /* Blockquotes */
  .guide-content blockquote {
    @apply border-l-4 border-primary pl-4 italic text-gray-600 my-6 bg-primary/5 py-3 pr-4 rounded-r-lg;
  }
  
  /* Images */
  .guide-content img {
    @apply rounded-lg shadow-lg my-8 mx-auto;
  }
  
  /* Quick Navigation */
  .quick-nav {
    @apply bg-gray-50 rounded-lg p-6 mb-8 sticky top-4;
  }
  
  .quick-nav h2 {
    @apply text-lg font-bold text-gray-900 mb-3;
  }
  
  .quick-nav ul {
    @apply space-y-2;
  }
  
  .quick-nav a {
    @apply text-gray-700 hover:text-primary transition-colors block py-1;
  }
  
  /* Info Boxes */
  .info-box {
    @apply bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r-lg;
  }
  
  .warning-box {
    @apply bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6 rounded-r-lg;
  }
  
  .success-box {
    @apply bg-green-50 border-l-4 border-green-500 p-4 my-6 rounded-r-lg;
  }
  
  .danger-box {
    @apply bg-red-50 border-l-4 border-red-500 p-4 my-6 rounded-r-lg;
  }
</style>

<article class="guide-page">
  <!-- Guide Header -->
  <header class="mb-12">
    <div class="flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-4">
      <span class="bg-primary/10 text-primary px-3 py-1 rounded-full font-semibold">
        {category}
      </span>
      <span class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {readTime}
      </span>
      {lastUpdated && (
        <span class="flex items-center gap-1">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          Updated: {lastUpdated}
        </span>
      )}
    </div>
    
    <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">{title}</h1>
    <p class="text-xl text-gray-600 leading-relaxed mb-6">{description}</p>
    
    <!-- Author Info -->
    <div class="flex items-center gap-3 pb-6 border-b">
      <div class="w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center font-bold">
        {author.charAt(0)}
      </div>
      <div>
        <p class="font-semibold text-gray-900">Written by {author}</p>
        <p class="text-sm text-gray-600">Waterproofing Professionals</p>
      </div>
    </div>
  </header>
  
  <div class="grid lg:grid-cols-[1fr,300px] gap-8">
    <!-- Main Content -->
    <div class="guide-content">
      <slot />
      
      <!-- Guide Summary Box -->
      <div class="mt-12 bg-gradient-to-r from-primary to-blue-600 text-white rounded-xl p-8">
        <h2 class="text-2xl font-bold mb-4 border-0">Key Takeaways</h2>
        <ul class="space-y-2 list-none ml-0">
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>Early detection saves thousands in repair costs</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>Professional assessment prevents major damage</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span>Regular maintenance extends foundation life</span>
          </li>
        </ul>
      </div>
    </div>
    
    <!-- Sidebar -->
    <aside class="lg:sticky lg:top-8 h-fit space-y-6">
      <!-- Quick Navigation -->
      <div class="quick-nav">
        <h2>In This Guide</h2>
        <nav>
          <ul>
            <li><a href="#why-early-detection-matters">Why Early Detection Matters</a></li>
            <li><a href="#visual-warning-signs">Visual Warning Signs</a></li>
            <li><a href="#types-of-foundation-cracks">Types of Foundation Cracks</a></li>
            <li><a href="#when-to-call-professionals">When to Call Professionals</a></li>
          </ul>
        </nav>
      </div>
      
      <!-- CTA Box -->
      <div class="bg-primary text-white rounded-lg p-6 text-center">
        <h3 class="text-xl font-bold mb-3">Need an Expert Opinion?</h3>
        <p class="text-sm mb-4 opacity-90">Get a free professional inspection</p>
        <a href="tel:4375450067" class="bg-white text-primary px-4 py-2 rounded font-semibold hover:bg-gray-100 transition-colors inline-block mb-2">
          ðŸ“ž (437) 545-0067
        </a>
        <p class="text-xs opacity-80">Available 24/7 for emergencies</p>
      </div>
      
      <!-- Related Guides -->
      <div class="bg-gray-50 rounded-lg p-6">
        <h3 class="font-bold mb-3">Related Guides</h3>
        <ul class="space-y-2">
          <li>
            <a href="/guides/basement-waterproofing-cost" class="text-sm text-gray-700 hover:text-primary transition-colors">
              Waterproofing Cost Guide
            </a>
          </li>
          <li>
            <a href="/guides/diy-vs-professional" class="text-sm text-gray-700 hover:text-primary transition-colors">
              DIY vs Professional Repair
            </a>
          </li>
          <li>
            <a href="/guides/seasonal-maintenance" class="text-sm text-gray-700 hover:text-primary transition-colors">
              Seasonal Maintenance Tips
            </a>
          </li>
        </ul>
      </div>
    </aside>
  </div>
  
  <!-- Bottom CTA -->
  <div class="mt-12 bg-gray-100 rounded-xl p-8 text-center">
    <h2 class="text-3xl font-bold text-gray-900 mb-4">Ready to Protect Your Foundation?</h2>
    <p class="text-xl text-gray-600 mb-6">
      Don't wait for small problems to become major repairs
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a href="/contact" class="bg-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors">
        Schedule Free Inspection
      </a>
      <a href="/services" class="bg-white text-primary border-2 border-primary px-8 py-3 rounded-lg font-semibold hover:bg-primary hover:text-white transition-all">
        View Our Services
      </a>
    </div>
  </div>
</article>