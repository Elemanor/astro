---
// Service Area Template - For location-specific service pages
// Optimized for local SEO and conversions
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import EmergencyCTA from '../components/EmergencyCTA.astro';
import TrustSignals from '../components/TrustSignals.astro';

export interface Props {
  // Location Information
  cityName: string;
  provinceName?: string;
  regionName?: string;
  
  // SEO Data
  title: string;
  description: string;
  keywords?: string[];
  
  // Content Images
  contentImages?: string;
  
  // Location Stats
  population?: string;
  homesServed?: string;
  yearsInArea?: string;
  responseTime?: string;
  
  // Service Areas (neighborhoods)
  neighborhoods?: Array<{
    name: string;
    challenges: string[];
    solutions: string[];
    avgCost?: string;
  }>;
  
  // Local Challenges
  localChallenges?: Array<{
    issue: string;
    description: string;
    solution: string;
    icon?: string;
  }>;
  
  // Pricing Data
  priceRanges?: {
    interior: { min: string; max: string };
    exterior: { min: string; max: string };
    emergency: { min: string; max: string };
  };
  
  // Local Rebates/Incentives
  rebates?: Array<{
    name: string;
    amount: string;
    eligibility: string;
    deadline?: string;
  }>;
  
  // Case Studies
  caseStudies?: Array<{
    neighborhood: string;
    challenge: string;
    solution: string;
    cost: string;
    timeline: string;
    result: string;
  }>;
  
  // Emergency Info
  emergencyNumber?: string;
  emergencyResponseTime?: string;
  
  // Local Competitors (for comparison)
  competitorComparison?: Array<{
    feature: string;
    us: string;
    others: string;
  }>;
  
  // Weather/Climate Data
  weatherStats?: {
    annualRainfall?: string;
    freezeThawCycles?: string;
    floodRisk?: string;
    snowfall?: string;
  };
  
  // Service Offerings
  services?: Array<{
    name: string;
    description: string;
    startingPrice: string;
    timeline: string;
    warranty?: string;
  }>;
  
  // FAQs
  localFaqs?: Array<{
    question: string;
    answer: string;
  }>;
  
  // Schema Data
  businessHours?: string;
  address?: {
    street?: string;
    city: string;
    province: string;
    postalCode?: string;
  };
  
  // Map/Directions
  mapEmbedUrl?: string;
  directionsUrl?: string;
  
  // Reviews/Testimonials
  reviews?: Array<{
    name: string;
    neighborhood: string;
    rating: number;
    text: string;
    date?: string;
    verified?: boolean;
  }>;
}

const {
  cityName,
  provinceName = "Ontario",
  regionName,
  title,
  description,
  keywords = [],
  contentImages,
  population,
  homesServed = "500+",
  yearsInArea = "15+",
  responseTime = "45 minutes",
  neighborhoods = [],
  localChallenges = [],
  priceRanges = {
    interior: { min: "$3,000", max: "$8,000" },
    exterior: { min: "$8,000", max: "$25,000" },
    emergency: { min: "$500", max: "$2,500" }
  },
  rebates = [],
  caseStudies = [],
  emergencyNumber = "(437) 545-0067",
  emergencyResponseTime = "60 minutes",
  competitorComparison = [],
  weatherStats = {},
  services = [],
  localFaqs = [],
  businessHours = "24/7 Emergency Service",
  address,
  mapEmbedUrl,
  directionsUrl,
  reviews = []
} = Astro.props;

// Generate schema markup
const schemaData = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "@id": `https://dryspacewaterproofing.ca/locations/${cityName.toLowerCase().replace(/\s+/g, '-')}-basement-waterproofing/`,
  "name": `DrySpace Waterproofing ${cityName}`,
  "alternateName": `${cityName} Basement Waterproofing Services`,
  "description": description,
  "url": Astro.url.href,
  "telephone": emergencyNumber,
  "priceRange": `$${priceRanges.interior.min.replace(/[^\d]/g, '')}-$${priceRanges.exterior.max.replace(/[^\d]/g, '')}`,
  "address": address ? {
    "@type": "PostalAddress",
    "streetAddress": address.street || "",
    "addressLocality": address.city,
    "addressRegion": address.province,
    "postalCode": address.postalCode || "",
    "addressCountry": "CA"
  } : {
    "@type": "PostalAddress",
    "addressLocality": cityName,
    "addressRegion": provinceName,
    "addressCountry": "CA"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "", // Add coordinates
    "longitude": ""
  },
  "areaServed": [
    {
      "@type": "City",
      "name": cityName,
      "containedInPlace": {
        "@type": "State",
        "name": provinceName
      }
    },
    ...neighborhoods.map(n => ({
      "@type": "Place",
      "name": n.name
    }))
  ],
  "openingHoursSpecification": {
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
    "opens": "00:00",
    "closes": "23:59"
  },
  "aggregateRating": reviews.length > 0 ? {
    "@type": "AggregateRating",
    "ratingValue": "4.9",
    "reviewCount": reviews.length
  } : undefined
};
---

<BaseLayout 
  title={title} 
  description={description}
  keywords={keywords}
  schema={schemaData}
>
  <Header />
  
  <!-- Breadcrumb Navigation -->
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <div class="container">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/locations/">Service Areas</a></li>
        <li aria-current="page">{cityName}</li>
      </ul>
    </div>
  </nav>
  
  <!-- Location Hero Section -->
  <section class="location-hero">
    <div class="hero-container">
      <div class="hero-content">
        <div class="location-badge">{regionName || provinceName}</div>
        <h1 class="hero-title">{title}</h1>
        <p class="hero-description">{description}</p>
        
        <div class="location-stats">
          <div class="stat-card">
            <span class="stat-icon">üè†</span>
            <span class="stat-value">{homesServed}</span>
            <span class="stat-label">{cityName} Homes Protected</span>
          </div>
          <div class="stat-card">
            <span class="stat-icon">‚ö°</span>
            <span class="stat-value">{responseTime}</span>
            <span class="stat-label">Average Response</span>
          </div>
          <div class="stat-card">
            <span class="stat-icon">üèÜ</span>
            <span class="stat-value">{yearsInArea}</span>
            <span class="stat-label">Years in {cityName}</span>
          </div>
          {population && (
            <div class="stat-card">
              <span class="stat-icon">üë•</span>
              <span class="stat-value">{population}</span>
              <span class="stat-label">Population Served</span>
            </div>
          )}
        </div>
        
        <div class="hero-cta-group">
          <a href={`tel:${emergencyNumber.replace(/[^\d]/g, '')}`} class="btn btn-primary btn-large">
            üìû Call {cityName} Team: {emergencyNumber}
          </a>
          <a href="#quote" class="btn btn-secondary btn-large">Get Free {cityName} Quote</a>
        </div>
        
        <div class="emergency-banner">
          <span class="emergency-icon">üö®</span>
          <span class="emergency-text">24/7 Emergency Service ‚Ä¢ {emergencyResponseTime} Response in {cityName}</span>
        </div>
      </div>
      
      <!-- Hero Map Preview (if available) -->
      {mapEmbedUrl && (
        <div class="hero-map">
          <iframe 
            src={mapEmbedUrl} 
            width="100%" 
            height="300" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      )}
    </div>
  </section>

  <!-- Content Images Section -->
  {contentImages && (
    <section class="content-images">
      <div class="container">
        <div set:html={contentImages} />
      </div>
    </section>
  )}

  <!-- Local Challenges Section -->
  {localChallenges.length > 0 && (
    <section class="local-challenges">
      <div class="container">
        <h2>{cityName}'s Unique Waterproofing Challenges</h2>
        <p class="section-intro">Understanding {cityName}'s specific conditions helps us provide targeted solutions:</p>
        
        <div class="challenges-grid">
          {localChallenges.map((challenge) => (
            <div class="challenge-card">
              <div class="challenge-icon">{challenge.icon || "‚ö†Ô∏è"}</div>
              <h3>{challenge.issue}</h3>
              <p class="challenge-description">{challenge.description}</p>
              <div class="solution-box">
                <strong>Our Solution:</strong>
                <p>{challenge.solution}</p>
              </div>
            </div>
          ))}
        </div>
        
        {weatherStats && Object.keys(weatherStats).length > 0 && (
          <div class="weather-stats">
            <h3>{cityName} Climate Impact on Basements</h3>
            <div class="stats-grid">
              {weatherStats.annualRainfall && (
                <div class="weather-stat">
                  <span class="stat-label">Annual Rainfall</span>
                  <span class="stat-value">{weatherStats.annualRainfall}</span>
                </div>
              )}
              {weatherStats.freezeThawCycles && (
                <div class="weather-stat">
                  <span class="stat-label">Freeze-Thaw Cycles</span>
                  <span class="stat-value">{weatherStats.freezeThawCycles}</span>
                </div>
              )}
              {weatherStats.floodRisk && (
                <div class="weather-stat">
                  <span class="stat-label">Flood Risk Level</span>
                  <span class="stat-value">{weatherStats.floodRisk}</span>
                </div>
              )}
              {weatherStats.snowfall && (
                <div class="weather-stat">
                  <span class="stat-label">Annual Snowfall</span>
                  <span class="stat-value">{weatherStats.snowfall}</span>
                </div>
              )}
            </div>
          </div>
        )}
      </div>
    </section>
  )}

  <!-- Neighborhood Solutions -->
  {neighborhoods.length > 0 && (
    <section class="neighborhoods">
      <div class="container">
        <h2>{cityName} Neighborhood Waterproofing Solutions</h2>
        <p class="section-intro">Tailored approaches for each {cityName} community:</p>
        
        <div class="neighborhoods-grid">
          {neighborhoods.map((area) => (
            <div class="neighborhood-card">
              <h3>{area.name}</h3>
              
              <div class="challenges-section">
                <h4>Common Challenges:</h4>
                <ul>
                  {area.challenges.map((challenge) => (
                    <li>{challenge}</li>
                  ))}
                </ul>
              </div>
              
              <div class="solutions-section">
                <h4>Our Solutions:</h4>
                <ul>
                  {area.solutions.map((solution) => (
                    <li>{solution}</li>
                  ))}
                </ul>
              </div>
              
              {area.avgCost && (
                <div class="cost-badge">
                  Average Investment: {area.avgCost}
                </div>
              )}
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- Services & Pricing -->
  <section class="services-pricing">
    <div class="container">
      <h2>{cityName} Basement Waterproofing Services & Pricing</h2>
      
      <div class="pricing-overview">
        <div class="price-card">
          <h3>Interior Waterproofing</h3>
          <div class="price-range">{priceRanges.interior.min} - {priceRanges.interior.max}</div>
          <ul>
            <li>French drain installation</li>
            <li>Sump pump systems</li>
            <li>Crack injection</li>
            <li>Vapor barriers</li>
          </ul>
          <a href="#quote" class="btn btn-outline">Get {cityName} Quote</a>
        </div>
        
        <div class="price-card featured">
          <div class="popular-badge">Most Popular</div>
          <h3>Exterior Waterproofing</h3>
          <div class="price-range">{priceRanges.exterior.min} - {priceRanges.exterior.max}</div>
          <ul>
            <li>Full excavation & membrane</li>
            <li>Drainage system upgrade</li>
            <li>Foundation repair</li>
            <li>Lifetime warranty</li>
          </ul>
          <a href="#quote" class="btn btn-primary">Get {cityName} Quote</a>
        </div>
        
        <div class="price-card">
          <h3>Emergency Services</h3>
          <div class="price-range">{priceRanges.emergency.min} - {priceRanges.emergency.max}</div>
          <ul>
            <li>24/7 response</li>
            <li>Water extraction</li>
            <li>Temporary sealing</li>
            <li>Damage prevention</li>
          </ul>
          <a href={`tel:${emergencyNumber.replace(/[^\d]/g, '')}`} class="btn btn-danger">Call Emergency Line</a>
        </div>
      </div>
      
      {services.length > 0 && (
        <div class="detailed-services">
          <h3>All {cityName} Waterproofing Services</h3>
          <div class="services-table">
            <table>
              <thead>
                <tr>
                  <th>Service</th>
                  <th>Description</th>
                  <th>Starting Price</th>
                  <th>Timeline</th>
                  <th>Warranty</th>
                </tr>
              </thead>
              <tbody>
                {services.map((service) => (
                  <tr>
                    <td><strong>{service.name}</strong></td>
                    <td>{service.description}</td>
                    <td>{service.startingPrice}</td>
                    <td>{service.timeline}</td>
                    <td>{service.warranty || "Lifetime"}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      )}
    </div>
  </section>

  <!-- Rebates & Incentives -->
  {rebates.length > 0 && (
    <section class="rebates-section">
      <div class="container">
        <h2>{cityName} Waterproofing Rebates & Incentives</h2>
        <p class="rebate-intro">Save money with available {cityName} programs:</p>
        
        <div class="rebates-grid">
          {rebates.map((rebate) => (
            <div class="rebate-card">
              <div class="rebate-amount">{rebate.amount}</div>
              <h3>{rebate.name}</h3>
              <p>{rebate.eligibility}</p>
              {rebate.deadline && (
                <div class="deadline">Deadline: {rebate.deadline}</div>
              )}
              <a href="#quote" class="btn btn-small">Check Eligibility</a>
            </div>
          ))}
        </div>
        
        <div class="rebate-cta">
          <p>Our team handles all rebate paperwork for {cityName} residents!</p>
          <a href="#quote" class="btn btn-primary">Get Rebate Assistance</a>
        </div>
      </div>
    </section>
  )}

  <!-- Case Studies -->
  {caseStudies.length > 0 && (
    <section class="case-studies">
      <div class="container">
        <h2>{cityName} Success Stories</h2>
        <p class="section-intro">Real results from your neighbors:</p>
        
        <div class="case-studies-grid">
          {caseStudies.map((study, index) => (
            <div class="case-study-card">
              <div class="case-number">#{index + 1}</div>
              <h3>{study.neighborhood}</h3>
              
              <div class="case-details">
                <div class="detail-row">
                  <span class="label">Challenge:</span>
                  <span class="value">{study.challenge}</span>
                </div>
                <div class="detail-row">
                  <span class="label">Solution:</span>
                  <span class="value">{study.solution}</span>
                </div>
                <div class="detail-row">
                  <span class="label">Investment:</span>
                  <span class="value">{study.cost}</span>
                </div>
                <div class="detail-row">
                  <span class="label">Timeline:</span>
                  <span class="value">{study.timeline}</span>
                </div>
              </div>
              
              <div class="case-result">
                <strong>Result:</strong> {study.result}
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- Why Choose Us -->
  {competitorComparison.length > 0 && (
    <section class="why-choose-us">
      <div class="container">
        <h2>Why {cityName} Homeowners Choose DrySpace</h2>
        
        <div class="comparison-table">
          <table>
            <thead>
              <tr>
                <th>Feature</th>
                <th class="highlight">DrySpace {cityName}</th>
                <th>Other Companies</th>
              </tr>
            </thead>
            <tbody>
              {competitorComparison.map((item) => (
                <tr>
                  <td>{item.feature}</td>
                  <td class="highlight"><span class="check">‚úì</span> {item.us}</td>
                  <td><span class="x">‚úó</span> {item.others}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </section>
  )}

  <!-- Reviews -->
  {reviews.length > 0 && (
    <section class="reviews-section">
      <div class="container">
        <h2>{cityName} Customer Reviews</h2>
        <p class="section-intro">What your neighbors are saying:</p>
        
        <div class="reviews-grid">
          {reviews.map((review) => (
            <div class="review-card">
              <div class="review-header">
                <div class="reviewer-info">
                  <strong>{review.name}</strong>
                  <span class="neighborhood">{review.neighborhood}</span>
                </div>
                <div class="rating">
                  {[...Array(5)].map((_, i) => (
                    <span class={i < review.rating ? "star filled" : "star"}>‚òÖ</span>
                  ))}
                </div>
              </div>
              <p class="review-text">"{review.text}"</p>
              {review.date && <div class="review-date">{review.date}</div>}
              {review.verified && <div class="verified-badge">‚úì Verified Customer</div>}
            </div>
          ))}
        </div>
        
        <div class="reviews-cta">
          <p>Join hundreds of satisfied {cityName} homeowners!</p>
          <a href="#quote" class="btn btn-primary">Get Your Free Quote</a>
        </div>
      </div>
    </section>
  )}

  <!-- FAQs -->
  {localFaqs.length > 0 && (
    <section class="faqs-section">
      <div class="container">
        <h2>{cityName} Basement Waterproofing FAQ</h2>
        
        <div class="faq-grid">
          {localFaqs.map((faq, index) => (
            <div class="faq-item">
              <h3><span class="faq-number">{index + 1}.</span> {faq.question}</h3>
              <p>{faq.answer}</p>
            </div>
          ))}
        </div>
        
        <div class="more-questions">
          <p>Have more questions about waterproofing in {cityName}?</p>
          <a href={`tel:${emergencyNumber.replace(/[^\d]/g, '')}`} class="btn btn-primary">
            Call {emergencyNumber}
          </a>
        </div>
      </div>
    </section>
  )}

  <!-- Quote Form Section -->
  <section id="quote" class="quote-section">
    <div class="container">
      <div class="quote-content">
        <div class="quote-info">
          <h2>Get Your Free {cityName} Waterproofing Quote</h2>
          <p>Join {homesServed} {cityName} homeowners who trust DrySpace</p>
          
          <div class="quote-benefits">
            <h3>What's Included:</h3>
            <ul>
              <li>‚úì Free on-site inspection</li>
              <li>‚úì Detailed written quote</li>
              <li>‚úì Rebate eligibility check</li>
              <li>‚úì No pressure, no obligations</li>
              <li>‚úì Same-day appointments available</li>
            </ul>
          </div>
          
          <div class="response-time">
            <span class="icon">‚ö°</span>
            <span class="text">Average response time in {cityName}: {responseTime}</span>
          </div>
        </div>
        
        <div class="quote-form">
          <form action="/submit-quote" method="POST">
            <input type="hidden" name="location" value={cityName} />
            
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" id="name" name="name" required />
            </div>
            
            <div class="form-group">
              <label for="phone">Phone</label>
              <input type="tel" id="phone" name="phone" required />
            </div>
            
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required />
            </div>
            
            <div class="form-group">
              <label for="address">Address</label>
              <input type="text" id="address" name="address" placeholder={`Address in ${cityName}`} required />
            </div>
            
            <div class="form-group">
              <label for="service">{cityName} Service Needed</label>
              <select id="service" name="service" required>
                <option value="">Select a service</option>
                <option value="interior">Interior Waterproofing</option>
                <option value="exterior">Exterior Waterproofing</option>
                <option value="emergency">Emergency Water Removal</option>
                <option value="inspection">Free Inspection Only</option>
                <option value="other">Other/Not Sure</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="message">Describe Your Issue</label>
              <textarea id="message" name="message" rows="4" placeholder="Tell us about your basement water issues..."></textarea>
            </div>
            
            <div class="form-group checkbox">
              <label>
                <input type="checkbox" name="emergency" value="yes" />
                This is an emergency (we'll call within 30 minutes)
              </label>
            </div>
            
            <button type="submit" class="btn btn-primary btn-large btn-full">
              Get My Free {cityName} Quote
            </button>
          </form>
          
          <div class="form-footer">
            <p>Or call us directly:</p>
            <a href={`tel:${emergencyNumber.replace(/[^\d]/g, '')}`} class="phone-link">
              üìû {emergencyNumber}
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Service Area Map -->
  <section class="service-area-map">
    <div class="container">
      <h2>Our {cityName} Service Area</h2>
      <p>Serving all neighborhoods in {cityName} and surrounding areas</p>
      
      {neighborhoods.length > 0 && (
        <div class="neighborhoods-list">
          <h3>Neighborhoods We Serve:</h3>
          <ul class="neighborhood-tags">
            {neighborhoods.map((area) => (
              <li>{area.name}</li>
            ))}
          </ul>
        </div>
      )}
      
      {directionsUrl && (
        <div class="directions-cta">
          <a href={directionsUrl} target="_blank" rel="noopener" class="btn btn-outline">
            Get Directions to Our {cityName} Office
          </a>
        </div>
      )}
    </div>
  </section>

  <!-- Final CTA -->
  <section class="final-cta">
    <div class="container">
      <div class="cta-content">
        <h2>Protect Your {cityName} Home Today</h2>
        <p>Don't wait for the next storm. Get professional basement waterproofing now.</p>
        
        <div class="cta-features">
          <div class="feature">
            <span class="icon">üèÜ</span>
            <span class="text">{yearsInArea} Years in {cityName}</span>
          </div>
          <div class="feature">
            <span class="icon">üè†</span>
            <span class="text">{homesServed} Homes Protected</span>
          </div>
          <div class="feature">
            <span class="icon">‚ö°</span>
            <span class="text">{responseTime} Response</span>
          </div>
          <div class="feature">
            <span class="icon">üí∞</span>
            <span class="text">Rebates Available</span>
          </div>
        </div>
        
        <div class="cta-buttons">
          <a href={`tel:${emergencyNumber.replace(/[^\d]/g, '')}`} class="btn btn-primary btn-large">
            üìû Call {cityName}: {emergencyNumber}
          </a>
          <a href="#quote" class="btn btn-secondary btn-large">
            Get Free Quote
          </a>
        </div>
      </div>
    </div>
  </section>

  <EmergencyCTA />
  <TrustSignals />
  <Footer />
</BaseLayout>

<style>
  /* Location-specific styles */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  /* Breadcrumb */
  .breadcrumb {
    background: #f7fafc;
    padding: 1rem 0;
    border-bottom: 1px solid #e2e8f0;
  }
  
  .breadcrumb ul {
    display: flex;
    list-style: none;
    padding: 0;
    margin: 0;
    font-size: 0.875rem;
  }
  
  .breadcrumb li:not(:last-child)::after {
    content: '/';
    margin: 0 0.5rem;
    color: #cbd5e0;
  }
  
  .breadcrumb a {
    color: #4a5568;
    text-decoration: none;
  }
  
  .breadcrumb a:hover {
    color: #f97316;
  }

  /* Content Images */
  .content-images {
    padding: 2rem 0;
  }

  .content-images figure {
    margin: 2rem 0;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .content-images img {
    width: 100%;
    height: auto;
    display: block;
  }

  /* Location Hero */
  .location-hero {
    background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
    color: white;
    padding: 4rem 0;
    position: relative;
    overflow: hidden;
  }

  .hero-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .location-badge {
    display: inline-block;
    background: #f97316;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: 1rem;
    text-transform: uppercase;
  }

  .hero-title {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .hero-description {
    font-size: 1.25rem;
    margin-bottom: 2rem;
    opacity: 0.9;
    max-width: 800px;
  }

  .location-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 1.5rem;
    border-radius: 0.5rem;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .stat-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #f97316;
    margin-bottom: 0.25rem;
  }

  .stat-label {
    font-size: 0.875rem;
    opacity: 0.8;
    text-transform: uppercase;
  }

  .hero-cta-group {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .emergency-banner {
    background: rgba(239, 68, 68, 0.2);
    border: 1px solid rgba(239, 68, 68, 0.5);
    padding: 1rem;
    border-radius: 0.5rem;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .emergency-icon {
    font-size: 1.5rem;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }

  .hero-map {
    margin-top: 2rem;
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  /* Local Challenges */
  .local-challenges {
    padding: 4rem 0;
    background: #f7fafc;
  }

  .section-intro {
    font-size: 1.125rem;
    color: #4a5568;
    margin-bottom: 3rem;
    text-align: center;
  }

  .challenges-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .challenge-card {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
  }

  .challenge-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }

  .challenge-card h3 {
    color: #1a202c;
    margin-bottom: 1rem;
  }

  .challenge-description {
    color: #4a5568;
    margin-bottom: 1.5rem;
  }

  .solution-box {
    background: #f0fdf4;
    border: 1px solid #86efac;
    padding: 1rem;
    border-radius: 0.25rem;
    text-align: left;
  }

  .solution-box strong {
    color: #166534;
    display: block;
    margin-bottom: 0.5rem;
  }

  .weather-stats {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    margin-top: 2rem;
  }

  .weather-stats h3 {
    text-align: center;
    margin-bottom: 2rem;
    color: #1a202c;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    text-align: center;
  }

  .weather-stat {
    display: flex;
    flex-direction: column;
  }

  .weather-stat .stat-label {
    font-size: 0.875rem;
    color: #4a5568;
    margin-bottom: 0.5rem;
  }

  .weather-stat .stat-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f97316;
  }

  /* Neighborhoods */
  .neighborhoods {
    padding: 4rem 0;
  }

  .neighborhoods h2 {
    text-align: center;
    margin-bottom: 1rem;
    font-size: 2.5rem;
    color: #1a202c;
  }

  .neighborhoods-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .neighborhood-card {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .neighborhood-card h3 {
    background: #f97316;
    color: white;
    padding: 1rem;
    margin: 0;
  }

  .challenges-section,
  .solutions-section {
    padding: 1.5rem;
  }

  .challenges-section {
    background: #fef2f2;
  }

  .solutions-section {
    background: #f0fdf4;
  }

  .challenges-section h4,
  .solutions-section h4 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
    color: #1a202c;
  }

  .challenges-section ul,
  .solutions-section ul {
    list-style: none;
    padding: 0;
  }

  .challenges-section li,
  .solutions-section li {
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;
  }

  .challenges-section li::before {
    content: "‚ö†Ô∏è";
    position: absolute;
    left: 0;
  }

  .solutions-section li::before {
    content: "‚úì";
    position: absolute;
    left: 0;
    color: #10b981;
    font-weight: 700;
  }

  .cost-badge {
    background: #1a202c;
    color: white;
    padding: 1rem;
    text-align: center;
    font-weight: 600;
  }

  /* Services & Pricing */
  .services-pricing {
    padding: 4rem 0;
    background: #f7fafc;
  }

  .services-pricing h2 {
    text-align: center;
    margin-bottom: 3rem;
    font-size: 2.5rem;
    color: #1a202c;
  }

  .pricing-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .price-card {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
    position: relative;
    display: flex;
    flex-direction: column;
  }

  .price-card.featured {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.2);
    border: 2px solid #f97316;
  }

  .popular-badge {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    background: #f97316;
    color: white;
    padding: 0.25rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .price-card h3 {
    color: #1a202c;
    margin-bottom: 1rem;
  }

  .price-range {
    font-size: 2rem;
    font-weight: 700;
    color: #f97316;
    margin-bottom: 1.5rem;
  }

  .price-card ul {
    list-style: none;
    padding: 0;
    margin-bottom: 2rem;
    flex-grow: 1;
  }

  .price-card li {
    padding: 0.5rem 0;
    color: #4a5568;
  }

  .price-card li::before {
    content: "‚úì ";
    color: #10b981;
    font-weight: 700;
  }

  .detailed-services {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
  }

  .detailed-services h3 {
    margin-bottom: 1.5rem;
    color: #1a202c;
  }

  .services-table {
    overflow-x: auto;
  }

  .services-table table {
    width: 100%;
    border-collapse: collapse;
  }

  .services-table th,
  .services-table td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid #e2e8f0;
  }

  .services-table th {
    background: #f7fafc;
    font-weight: 600;
    color: #1a202c;
  }

  .services-table tr:hover {
    background: #f7fafc;
  }

  /* Rebates */
  .rebates-section {
    padding: 4rem 0;
    background: #fef3c7;
  }

  .rebates-section h2 {
    text-align: center;
    margin-bottom: 1rem;
    color: #1a202c;
  }

  .rebate-intro {
    text-align: center;
    font-size: 1.125rem;
    color: #92400e;
    margin-bottom: 3rem;
  }

  .rebates-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .rebate-card {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    text-align: center;
  }

  .rebate-amount {
    font-size: 2.5rem;
    font-weight: 700;
    color: #10b981;
    margin-bottom: 1rem;
  }

  .rebate-card h3 {
    color: #1a202c;
    margin-bottom: 1rem;
  }

  .rebate-card p {
    color: #4a5568;
    margin-bottom: 1rem;
  }

  .deadline {
    background: #fee2e2;
    color: #991b1b;
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    margin-bottom: 1rem;
    display: inline-block;
  }

  .rebate-cta {
    text-align: center;
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
  }

  /* Case Studies */
  .case-studies {
    padding: 4rem 0;
  }

  .case-studies h2 {
    text-align: center;
    margin-bottom: 1rem;
    color: #1a202c;
  }

  .case-studies-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .case-study-card {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    padding: 2rem;
    position: relative;
  }

  .case-number {
    position: absolute;
    top: -10px;
    right: 20px;
    background: #f97316;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
  }

  .case-study-card h3 {
    color: #1a202c;
    margin-bottom: 1.5rem;
  }

  .case-details {
    margin-bottom: 1.5rem;
  }

  .detail-row {
    display: flex;
    padding: 0.5rem 0;
    border-bottom: 1px solid #e2e8f0;
  }

  .detail-row .label {
    font-weight: 600;
    color: #4a5568;
    width: 100px;
  }

  .detail-row .value {
    color: #1a202c;
    flex: 1;
  }

  .case-result {
    background: #f0fdf4;
    padding: 1rem;
    border-radius: 0.25rem;
    border-left: 4px solid #10b981;
  }

  .case-result strong {
    color: #166534;
  }

  /* Why Choose Us */
  .why-choose-us {
    padding: 4rem 0;
    background: #f7fafc;
  }

  .why-choose-us h2 {
    text-align: center;
    margin-bottom: 3rem;
    color: #1a202c;
  }

  .comparison-table {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    overflow-x: auto;
  }

  .comparison-table table {
    width: 100%;
    border-collapse: collapse;
  }

  .comparison-table th,
  .comparison-table td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid #e2e8f0;
  }

  .comparison-table th {
    background: #f7fafc;
    font-weight: 600;
    color: #1a202c;
  }

  .comparison-table th.highlight,
  .comparison-table td.highlight {
    background: #f0fdf4;
    color: #166534;
  }

  .check {
    color: #10b981;
    font-weight: 700;
    margin-right: 0.5rem;
  }

  .x {
    color: #ef4444;
    margin-right: 0.5rem;
  }

  /* Reviews */
  .reviews-section {
    padding: 4rem 0;
  }

  .reviews-section h2 {
    text-align: center;
    margin-bottom: 1rem;
    color: #1a202c;
  }

  .reviews-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .review-card {
    background: white;
    border: 1px solid #e2e8f0;
    padding: 2rem;
    border-radius: 0.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .review-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 1rem;
  }

  .reviewer-info strong {
    display: block;
    color: #1a202c;
    margin-bottom: 0.25rem;
  }

  .neighborhood {
    font-size: 0.875rem;
    color: #4a5568;
  }

  .rating {
    display: flex;
    gap: 0.25rem;
  }

  .star {
    color: #cbd5e0;
    font-size: 1.25rem;
  }

  .star.filled {
    color: #f59e0b;
  }

  .review-text {
    color: #4a5568;
    line-height: 1.6;
    font-style: italic;
    margin-bottom: 1rem;
  }

  .review-date {
    font-size: 0.875rem;
    color: #718096;
  }

  .verified-badge {
    display: inline-block;
    background: #dbeafe;
    color: #1e40af;
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    margin-top: 0.5rem;
  }

  .reviews-cta {
    text-align: center;
    background: #f7fafc;
    padding: 2rem;
    border-radius: 0.5rem;
  }

  /* FAQs */
  .faqs-section {
    padding: 4rem 0;
    background: #f7fafc;
  }

  .faqs-section h2 {
    text-align: center;
    margin-bottom: 3rem;
    color: #1a202c;
  }

  .faq-grid {
    display: grid;
    gap: 1.5rem;
    max-width: 900px;
    margin: 0 auto;
  }

  .faq-item {
    background: white;
    padding: 1.5rem;
    border-radius: 0.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .faq-number {
    color: #f97316;
    font-weight: 700;
    margin-right: 0.5rem;
  }

  .faq-item h3 {
    color: #1a202c;
    margin-bottom: 1rem;
    font-size: 1.125rem;
  }

  .faq-item p {
    color: #4a5568;
    line-height: 1.6;
  }

  .more-questions {
    text-align: center;
    margin-top: 3rem;
  }

  .more-questions p {
    font-size: 1.125rem;
    margin-bottom: 1rem;
    color: #4a5568;
  }

  /* Quote Form */
  .quote-section {
    padding: 4rem 0;
    background: white;
  }

  .quote-content {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    padding: 0 1rem;
  }

  .quote-info h2 {
    color: #1a202c;
    margin-bottom: 1rem;
  }

  .quote-info p {
    color: #4a5568;
    font-size: 1.125rem;
    margin-bottom: 2rem;
  }

  .quote-benefits {
    background: #f7fafc;
    padding: 1.5rem;
    border-radius: 0.5rem;
    margin-bottom: 2rem;
  }

  .quote-benefits h3 {
    color: #1a202c;
    margin-bottom: 1rem;
  }

  .quote-benefits ul {
    list-style: none;
    padding: 0;
  }

  .quote-benefits li {
    padding: 0.5rem 0;
    color: #4a5568;
  }

  .response-time {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: #fef3c7;
    padding: 1rem;
    border-radius: 0.5rem;
  }

  .response-time .icon {
    font-size: 1.5rem;
  }

  .quote-form {
    background: #f7fafc;
    padding: 2rem;
    border-radius: 0.5rem;
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: #1a202c;
    font-weight: 600;
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e2e8f0;
    border-radius: 0.375rem;
    font-size: 1rem;
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #f97316;
    box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
  }

  .form-group.checkbox label {
    display: flex;
    align-items: center;
    font-weight: normal;
  }

  .form-group.checkbox input {
    width: auto;
    margin-right: 0.5rem;
  }

  .form-footer {
    text-align: center;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #e2e8f0;
  }

  .phone-link {
    font-size: 1.5rem;
    color: #f97316;
    text-decoration: none;
    font-weight: 700;
  }

  /* Service Area Map */
  .service-area-map {
    padding: 4rem 0;
    background: #f7fafc;
    text-align: center;
  }

  .service-area-map h2 {
    margin-bottom: 1rem;
    color: #1a202c;
  }

  .neighborhoods-list {
    margin-top: 2rem;
  }

  .neighborhoods-list h3 {
    margin-bottom: 1rem;
    color: #1a202c;
  }

  .neighborhood-tags {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
    max-width: 800px;
    margin: 0 auto;
  }

  .neighborhood-tags li {
    background: white;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    border: 1px solid #e2e8f0;
    font-size: 0.875rem;
    color: #4a5568;
  }

  .directions-cta {
    margin-top: 2rem;
  }

  /* Final CTA */
  .final-cta {
    background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
    color: white;
    padding: 4rem 0;
    text-align: center;
  }

  .cta-content h2 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  .cta-content p {
    font-size: 1.25rem;
    margin-bottom: 2rem;
    opacity: 0.9;
  }

  .cta-features {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .cta-features .feature {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .cta-features .icon {
    font-size: 1.5rem;
  }

  .cta-features .text {
    font-weight: 600;
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  /* Buttons */
  .btn {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    border-radius: 0.375rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s;
    text-align: center;
    cursor: pointer;
    border: none;
  }

  .btn-primary {
    background-color: #f97316;
    color: white;
  }

  .btn-primary:hover {
    background-color: #ea580c;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
  }

  .btn-secondary {
    background-color: transparent;
    color: white;
    border: 2px solid white;
  }

  .btn-secondary:hover {
    background-color: white;
    color: #1a202c;
  }

  .btn-outline {
    background-color: transparent;
    color: #f97316;
    border: 2px solid #f97316;
  }

  .btn-outline:hover {
    background-color: #f97316;
    color: white;
  }

  .btn-danger {
    background-color: #ef4444;
    color: white;
  }

  .btn-danger:hover {
    background-color: #dc2626;
  }

  .btn-large {
    padding: 1rem 2rem;
    font-size: 1.125rem;
  }

  .btn-small {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }

  .btn-full {
    width: 100%;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .hero-title {
      font-size: 2rem;
    }
    
    .hero-description {
      font-size: 1rem;
    }
    
    .location-stats {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .stat-value {
      font-size: 1.5rem;
    }
    
    .quote-content {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    
    .hero-cta-group {
      flex-direction: column;
    }
    
    .btn {
      width: 100%;
    }
    
    .cta-features {
      flex-direction: column;
      align-items: center;
    }
    
    .comparison-table {
      font-size: 0.875rem;
    }
  }
</style>