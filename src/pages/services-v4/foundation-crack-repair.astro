---
import ServicePageTemplateV4 from '../../templates/ServicePageTemplateV4.astro';
import ServiceMainContent from '../../components/services/ServiceMainContent.astro';
import ContentSection from '../../components/content/ContentSection.astro';
import ProcessList from '../../components/content/ProcessList.astro';
import FeatureGrid from '../../components/content/FeatureGrid.astro';
import ComparisonTable from '../../components/content/ComparisonTable.astro';
import ComparisonTableV2 from '../../components/content/ComparisonTableV2.astro';
import CalloutBox from '../../components/content/CalloutBox.astro';
import Timeline from '../../components/content/Timeline.astro';
import QuestionAnswer from '../../components/content/QuestionAnswer.astro';
import ServiceLinks from '../../components/content/ServiceLinks.astro';
import VideoEmbed from '../../components/content/VideoEmbed.astro';
import { Star, Phone } from 'lucide-react';

const pageData = {
  serviceName: "Foundation Crack Repair Toronto",
  serviceTitle: "Foundation Crack Repair Toronto | Licensed Experts | Same-Day Service",
  serviceSubtitle: "Stop Water Leaks Permanently with Professional Crack Injection",
  serviceDescription: "Expert foundation crack repair in Toronto. Polyurethane & epoxy injection, 25-year warranty, same-day service. Stop leaks permanently. Call (437) 545-0067.",
  heroProps: {
    serviceName: "Foundation Crack Repair",
    subtitle: "Stop Water Infiltration at the Source",
    description: "Professional crack injection services with 25-year warranty. Same-day emergency repairs available.",
    image: "/images/services/crack-repair-hero.jpg",
    badge: "Licensed & Insured",
    features: [
      "Same-day service",
      "25-year warranty",
      "Interior & exterior repairs",
      "Free inspection"
    ]
  },
  processSteps: [
    {
      title: "Crack Assessment",
      description: "Thorough inspection to determine crack type and best repair method",
      icon: "search"
    },
    {
      title: "Surface Preparation",
      description: "Clean and prepare the crack for optimal adhesion",
      icon: "wrench"
    },
    {
      title: "Injection Process",
      description: "Professional polyurethane or epoxy injection",
      icon: "syringe"
    },
    {
      title: "Quality Assurance",
      description: "Test repair and provide warranty documentation",
      icon: "shield"
    }
  ],
  benefits: [
    {
      title: "Permanent Solution",
      description: "Our injection method creates a waterproof seal that lasts"
    },
    {
      title: "Structural Integrity",
      description: "Epoxy injection restores concrete strength"
    },
    {
      title: "Cost-Effective",
      description: "Fraction of the cost of exterior excavation"
    },
    {
      title: "Minimal Disruption",
      description: "Interior repairs completed in hours, not days"
    }
  ],
  relatedServices: [
    {
      title: "Basement Waterproofing",
      href: "/services/basement-waterproofing/",
      description: "Complete moisture protection for your basement"
    },
    {
      title: "Foundation Repair",
      href: "/services/foundation-repair/",
      description: "Structural solutions for settling foundations"
    },
    {
      title: "Exterior Waterproofing",
      href: "/services/exterior-waterproofing/",
      description: "Comprehensive exterior water management"
    }
  ],
  serviceFaqs: [
    {
      question: "How long does crack repair take?",
      answer: "Most crack repairs are completed in 2-4 hours. The injection material cures within 24-48 hours for full strength."
    },
    {
      question: "What's the difference between polyurethane and epoxy?",
      answer: "Polyurethane is flexible and ideal for active leaks and cracks that may move. Epoxy is rigid and best for structural repairs of dormant cracks."
    },
    {
      question: "Will the crack leak again?",
      answer: "Our professional injection method comes with a 25-year warranty. When done correctly, the repair creates a permanent waterproof seal."
    },
    {
      question: "Can you repair cracks from the outside?",
      answer: "Yes, we offer both interior and exterior crack repair methods. We'll recommend the best approach based on your specific situation."
    }
  ]
};

// Data for components
const crackTypes = [
  {
    title: "Vertical Cracks",
    description: "Most common type, usually from settling or curing",
    icon: "trending",
    highlight: true
  },
  {
    title: "Horizontal Cracks",
    description: "May indicate serious pressure issues - urgent repair needed",
    icon: "zap"
  },
  {
    title: "Step Cracks",
    description: "Common in block foundations, following mortar joints",
    icon: "trending"
  },
  {
    title: "Diagonal Cracks",
    description: "Often from differential settling of foundation",
    icon: "trending"
  },
  {
    title: "Spider Web Cracks",
    description: "Surface shrinkage cracks, usually not structural",
    icon: "shield"
  },
  {
    title: "Active Leaking Cracks",
    description: "Require immediate attention to prevent damage",
    icon: "zap"
  }
];

const repairProcess = [
  {
    title: "Initial Assessment",
    subtitle: "Free Professional Inspection",
    description: "Our certified technician examines the crack to determine:",
    items: [
      "Crack type and severity",
      "Active vs. dormant status",
      "Best repair method",
      "Accurate cost estimate"
    ],
    image: "/images/process/crack-inspection.jpg"
  },
  {
    title: "Crack Preparation",
    subtitle: "Surface Treatment",
    description: "Proper preparation ensures lasting repair:",
    items: [
      "Clean crack of debris and loose concrete",
      "Install injection ports along crack",
      "Seal surface with hydraulic cement",
      "Allow surface seal to cure"
    ],
    image: "/images/process/crack-preparation.jpg"
  },
  {
    title: "Injection Process",
    subtitle: "Professional Application",
    description: "Low-pressure injection fills crack completely:",
    items: [
      "Start injection from lowest port",
      "Continue until material appears at next port",
      "Ensure complete crack penetration",
      "Cap ports and allow to cure"
    ],
    image: "/images/process/crack-injection.jpg"
  },
  {
    title: "Finishing & Warranty",
    subtitle: "Quality Assurance",
    description: "Final steps ensure professional results:",
    items: [
      "Remove ports and smooth surface",
      "Apply waterproof coating if needed",
      "Test repair for leaks",
      "Provide 25-year warranty certificate"
    ],
    image: "/images/process/crack-finished.jpg"
  }
];

// Simplified comparison data
const repairMethodsSimple = [
  { feature: "Best For", icon: "üéØ", options: ["Active water leaks", "Structural cracks", "Major foundation damage"] },
  { feature: "Cost Range", icon: "üí∞", options: ["$500-$1,500", "$600-$1,800", "$3,000-$8,000"] },
  { feature: "Time to Complete", icon: "‚è±Ô∏è", options: ["2-4 hours", "4-6 hours", "3-5 days"] },
  { feature: "Disruption", icon: "üè†", options: ["Minimal", "Minimal", "Major excavation"] },
  { feature: "Waterproofing", icon: "üíß", options: [{ text: "Excellent", rating: 5 }, { text: "Good", rating: 4 }, { text: "Excellent", rating: 5 }] },
  { feature: "Flexibility", icon: "üîÑ", options: [true, false, true] },
  { feature: "Structural Repair", icon: "üèóÔ∏è", options: [false, true, true] },
  { feature: "Interior Work Only", icon: "üè†", options: [true, true, false] },
  { feature: "Warranty Period", icon: "üõ°Ô∏è", options: ["25 years", "25 years", "Lifetime"] }
];

// Detailed method comparison for cards
const repairMethods = [
  // What You Get
  { feature: "Stops active leaks", category: "What You Get", options: [true, true, true] },
  { feature: "Permanent waterproofing", category: "What You Get", options: [true, true, true] },
  { feature: "Structural reinforcement", category: "What You Get", options: [false, true, true] },
  { feature: "Handles foundation movement", category: "What You Get", options: [true, false, true] },
  { feature: "25+ year warranty", category: "What You Get", options: [true, true, true] },
  
  // Project Details
  { feature: "Time to complete", category: "Project Details", options: ["2-4 hours", "4-6 hours", "3-5 days"] },
  { feature: "Work location", category: "Project Details", options: ["Interior only", "Interior only", "Exterior excavation"] },
  { feature: "Mess & disruption", category: "Project Details", options: ["Minimal", "Minimal", "Significant"] },
  { feature: "Weather dependent", category: "Project Details", options: [false, false, true] },
  
  // Investment
  { feature: "Starting price", category: "Investment", options: ["$500", "$600", "$3,000"] },
  { feature: "Average project", category: "Investment", options: ["$800-$1,200", "$900-$1,400", "$5,000-$10,000"] },
  { feature: "Payment options", category: "Investment", options: ["Cash/Credit/Finance", "Cash/Credit/Finance", "Cash/Credit/Finance"] }
];

const projectTimeline = [
  {
    title: "Initial Call",
    description: "Speak with our crack repair specialist",
    duration: "5 minutes",
    status: "completed"
  },
  {
    title: "Free Inspection",
    description: "Technician assesses your foundation crack",
    duration: "Same day",
    status: "completed"
  },
  {
    title: "Repair Approval",
    description: "Review quote and approve repair",
    duration: "Immediate",
    status: "active",
    milestone: true
  },
  {
    title: "Crack Repair",
    description: "Professional injection process",
    duration: "2-4 hours",
    status: "upcoming"
  },
  {
    title: "Warranty Issued",
    description: "Receive 25-year warranty documentation",
    duration: "Same day",
    status: "upcoming"
  }
];

const comparisonItems = [
  // Project Requirements
  { feature: "Excavation Required", category: "Project Requirements", icon: "üèóÔ∏è", options: [false, true, { text: "Yes", highlight: true }] },
  { feature: "Permits Needed", category: "Project Requirements", icon: "üìã", options: [false, true, true] },
  { feature: "Disruption Level", category: "Project Requirements", icon: "üè†", options: ["Minimal", "Moderate", "Moderate"] },
  { feature: "Project Duration", category: "Project Requirements", icon: "‚è±Ô∏è", options: ["1-2 days", "3-5 days", "4-6 days"] },
  
  // Cost & Value
  { feature: "Initial Cost Range", category: "Cost & Value", icon: "üí∞", options: ["$3,000-$8,000", { text: "$8,000-$15,000", highlight: true }, "$12,000-$20,000"] },
  { feature: "City Rebates Available", category: "Cost & Value", icon: "üéÅ", options: [true, true, true] },
  { feature: "Financing Options", category: "Cost & Value", icon: "üí≥", options: ["Limited", "Full 0% APR", "Full 0% APR"] },
  { feature: "ROI (Home Value)", category: "Cost & Value", icon: "üìà", options: ["+15%", { text: "+30%", highlight: true }, { text: "+35%", highlight: true }] },
  
  // Performance
  { feature: "Water Protection", category: "Performance", icon: "üíß", options: [{ text: "Good", rating: 4 }, { text: "Excellent", rating: 5 }, { text: "Superior", rating: 5 }] },
  { feature: "Mold Prevention", category: "Performance", icon: "üõ°Ô∏è", options: [true, true, true] },
  { feature: "Foundation Protection", category: "Performance", icon: "üèóÔ∏è", options: ["Partial", "Complete", "Complete"] },
  { feature: "Drainage Improvement", category: "Performance", icon: "üåä", options: [false, true, true] },
  
  // Warranty & Support
  { feature: "Warranty Period", category: "Warranty & Support", icon: "üõ°Ô∏è", options: ["25 years", { text: "Lifetime", highlight: true }, { text: "Lifetime", highlight: true }] },
  { feature: "Transferable Warranty", category: "Warranty & Support", icon: "üìÑ", options: [false, true, true] },
  { feature: "24/7 Emergency Support", category: "Warranty & Support", icon: "üö®", options: [true, true, true] },
  { feature: "Annual Inspections", category: "Warranty & Support", icon: "üîç", options: [false, true, true] }
];

const costFactors = [
  {
    title: "Crack Length",
    description: "Longer cracks require more injection material",
    icon: "trending"
  },
  {
    title: "Crack Width",
    description: "Wider cracks may need special preparation",
    icon: "zap"
  },
  {
    title: "Location Access",
    description: "Hard-to-reach areas may increase labor time",
    icon: "target"
  },
  {
    title: "Number of Cracks",
    description: "Multiple crack discounts available",
    icon: "users"
  }
];

const relatedResources = [
  {
    text: "Basement Waterproofing Services",
    href: "/services/basement-waterproofing/",
    description: "Complete waterproofing solutions to prevent all water issues",
    type: "internal",
    featured: true,
    image: "/images/services/basement-waterproofing.jpg"
  },
  {
    text: "Interior Waterproofing",
    href: "/services/interior-waterproofing/",
    description: "Interior drainage systems for comprehensive protection",
    type: "internal",
    badge: "Popular"
  },
  {
    text: "Foundation Repair Services",
    href: "/services/foundation-repair/",
    description: "Structural solutions for settling and damaged foundations",
    type: "internal"
  },
  {
    text: "Emergency Services",
    href: "/services/emergency-waterproofing/",
    description: "24/7 emergency response for flooding and active leaks",
    type: "internal",
    badge: "24/7"
  },
  {
    text: "Get Free Inspection",
    href: "/contact/",
    description: "Schedule your free foundation crack assessment today",
    type: "internal",
    badge: "Free"
  }
];
---

<ServicePageTemplateV4 {...pageData}>
  <ServiceMainContent slot="mainContent">
    
    <!-- Hero Content Section -->
    <ContentSection 
      variant="gradient"
      title="Professional Foundation Crack Repair in Toronto"
      subtitle="Don't let small cracks become big problems"
      centered
    >
      <p class="text-xl">
        Foundation cracks are more than just cosmetic issues‚Äîthey're entry points for water that can cause extensive damage to your home. 
        Our professional injection repair services seal cracks permanently, preventing water infiltration and protecting your foundation.
      </p>
    </ContentSection>

    <!-- Emergency CTA -->
    <CalloutBox 
      type="emergency" 
      title="Actively Leaking Crack?"
      animate={true}
    >
      <p>Water coming through your foundation crack needs immediate attention. Our emergency team is available 24/7.</p>
      <p class="mt-4"><strong>Call Now: (437) 545-0067</strong> - Average response time: 45 minutes</p>
    </CalloutBox>

    <!-- Crack Types Grid with Bento Layout -->
    <FeatureGrid 
      title="Types of Foundation Cracks We Repair"
      subtitle="Each crack type requires a specific repair approach"
      features={crackTypes}
      variant="bento"
      backgroundPattern={true}
    />

    <!-- Detailed Process with Timeline Variant -->
    <ProcessList 
      title="Our Proven Crack Repair Process"
      subtitle="Professional injection done right, every time"
      items={repairProcess}
      variant="timeline"
      showImages={true}
      numbered={true}
    />

    <!-- Process List - Cards Variant -->
    <ProcessList 
      title="Process List - Cards Variant"
      subtitle="Grid layout perfect for shorter process descriptions"
      items={repairProcess.slice(0, 3)}
      variant="cards"
      showImages={true}
      numbered={true}
    />

    <!-- Video Section -->
    <VideoEmbed 
      title="Watch: Professional Crack Injection Process"
      videoId="dQw4w9WgXcQ"
      platform="youtube"
      description="See exactly how we repair foundation cracks using polyurethane injection. This time-lapse shows a typical vertical crack repair from start to finish."
      caption="Actual repair performed in North York, ON"
    />

    <!-- Quick Comparison -->
    <ComparisonTable 
      title="Quick Comparison"
      subtitle="See all options at a glance"
      headers={["Interior", "Exterior", "Hybrid"]}
      items={comparisonItems}
      highlightColumn={2}
      variant="modern"
    />
    
    <!-- Executive Summary Style Comparison -->
    <ComparisonTable 
      title="Executive Summary"
      subtitle="Premium comparison view for decision makers"
      headers={["Basic", "Professional", "Premium"]}
      items={comparisonItems.slice(0, 10)}
      highlightColumn={2}
      variant="gradient"
    />

    <!-- Cost Information with Pattern Background -->
    <ContentSection 
      variant="pattern"
      title="Understanding Crack Repair Costs"
      subtitle="Transparent pricing with no hidden fees"
      centered
    >
      <p class="mb-6 text-lg">
        Foundation crack repair costs vary based on several factors. Most repairs range from $500-$1,500, 
        making it one of the most cost-effective waterproofing solutions available.
      </p>
      
      <FeatureGrid 
        title="Factors Affecting Cost"
        features={costFactors}
        variant="gradient"
        columns={2}
      />
      
      <CalloutBox type="tip" title="Save Money" animate={true}>
        <p>Bundle multiple crack repairs for discounts up to 20%. We also offer 0% financing for repairs over $1,000.</p>
      </CalloutBox>
    </ContentSection>

    <!-- Project Timeline - Roadmap View -->
    <Timeline 
      title="Project Timeline - Roadmap View"
      subtitle="See how your waterproofing project unfolds"
      items={projectTimeline}
      variant="roadmap"
      animated={true}
    />

    <!-- Timeline - Card Layout -->
    <Timeline 
      title="Timeline - Card Layout"
      subtitle="Visual progress tracking with status indicators"
      items={projectTimeline}
      variant="cards"
      showImages={false}
    />

    <!-- Success Story -->
    <ContentSection 
      variant="dark"
      title="Recent Success Story"
      backgroundImage="/images/testimonials/crack-repair-bg.jpg"
      overlayOpacity={0.7}
      fullWidth
      centered
    >
      <div class="max-w-3xl mx-auto">
        <p class="text-xl italic mb-6">
          "We had water pouring through a crack during heavy rain. DrySpace arrived within an hour, 
          injected the crack, and we haven't had a drop of water since. The 25-year warranty gives us total peace of mind."
        </p>
        <p class="text-lg">‚Äî Jennifer M., Scarborough</p>
        <div class="mt-6">
          <span class="inline-flex items-center gap-2 text-yellow-400">
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <span class="text-white ml-2">5.0 on Google Reviews</span>
          </span>
        </div>
      </div>
    </ContentSection>

    <!-- FAQ Section with Gradient Background -->
    <ContentSection 
      title="Frequently Asked Questions"
      variant="gradient"
      centered
    >
      <div class="grid gap-6 md:grid-cols-2">
        <QuestionAnswer 
          question="Is crack injection a permanent fix?"
          variant="card"
        >
          <p>Yes, when properly done. Our polyurethane injection creates a flexible, waterproof seal that moves with your foundation. Combined with our 25-year warranty, you can trust the repair will last.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="Can I paint over the repaired crack?"
          variant="card"
        >
          <p>Absolutely. Once cured, the injection ports are removed and the surface is smoothed. You can paint, apply waterproofing coatings, or finish your basement walls as desired.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="Do you repair cracks in block foundations?"
          variant="card"
        >
          <p>Yes, we repair cracks in both poured concrete and concrete block foundations. Block foundations may require a different approach, but we have solutions for all foundation types.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="What if the crack is actively leaking?"
          variant="card"
        >
          <p>Active leaks are our specialty. We use fast-setting polyurethane that can stop flowing water immediately. Our emergency team is available 24/7 for urgent leak situations.</p>
        </QuestionAnswer>
      </div>
    </ContentSection>

    <!-- Warning Signs -->
    <CalloutBox 
      type="warning" 
      title="Don't Ignore These Warning Signs"
    >
      <div class="grid md:grid-cols-2 gap-4 mt-4">
        <ul class="space-y-2">
          <li>‚Ä¢ Water stains along crack lines</li>
          <li>‚Ä¢ Efflorescence (white powder) near cracks</li>
          <li>‚Ä¢ Cracks wider than 1/8 inch</li>
          <li>‚Ä¢ Multiple cracks in same area</li>
        </ul>
        <ul class="space-y-2">
          <li>‚Ä¢ Horizontal cracks (urgent!)</li>
          <li>‚Ä¢ Cracks that are growing</li>
          <li>‚Ä¢ Musty smell in basement</li>
          <li>‚Ä¢ Visible water during rain</li>
        </ul>
      </div>
    </CalloutBox>

    <!-- Featured Resources -->
    <ServiceLinks 
      title="Featured Resources"
      subtitle="Everything you need to make an informed decision"
      links={relatedResources}
      variant="featured"
      showImages={true}
    />

    <!-- Quick Links - Grid Layout -->
    <ServiceLinks 
      title="Quick Links - Grid Layout"
      links={relatedResources.slice(1, 5)}
      variant="grid"
    />

    <!-- Related Services -->
    <ServiceLinks 
      title="Related Services"
      links={relatedResources.filter(l => l.type === 'internal')}
      variant="cards"
      showImages={false}
    />

    <!-- Final CTA -->
    <ContentSection 
      variant="gradient"
      title="Stop Water Infiltration Today"
      subtitle="Professional crack repair with 25-year warranty"
      centered
      fullWidth
    >
      <div class="mt-8 space-y-6 text-center">
        <p class="text-xl max-w-2xl mx-auto">
          Don't wait for a small crack to become a flooding disaster. 
          Our certified technicians can seal your foundation cracks today.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/contact/" class="inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-white bg-primary rounded-full shadow-xl hover:bg-primary/90 transition-all hover:-translate-y-0.5">
            Get Free Inspection
          </a>
          <a href="tel:437-545-0067" class="inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-primary bg-white rounded-full shadow-xl hover:shadow-2xl transition-all hover:-translate-y-0.5">
            <Phone className="h-5 w-5 mr-2" />
            (437) 545-0067
          </a>
        </div>
        <p class="text-sm opacity-80">
          Average callback time: 15 minutes ‚Ä¢ Same-day service available
        </p>
      </div>
    </ContentSection>

  </ServiceMainContent>
</ServicePageTemplateV4>