---
import { getCollection } from 'astro:content';
import MainLayout from '../../layouts/MainLayout.astro';
import Hero from '../../components/ui/Hero.astro';
import Section from '../../components/ui/Section.astro';
import AstroCard from '../../components/ui/AstroCard.astro';
import AstroButton from '../../components/ui/AstroButton.astro';
import { CheckCircle, Shield, Clock, Award, ArrowRight } from 'lucide-react';

// Get all compare entries
export async function getStaticPaths() {
  const comparePages = await getCollection('compare');
  
  return comparePages.map(entry => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
const { title, description } = entry.data;
---

<MainLayout title={title} description={description}>
  <!-- Hero Section -->
  <Hero
    title={title}
    subtitle="Make an informed decision for your home"
    description={description}
    badge="Comparison Guide"
    alignment="center"
    size="small"
  />
  
  <!-- Trust Signals -->
  <Section spacing="small" background="muted">
    <div class="flex flex-wrap justify-center gap-8">
      <div class="flex items-center gap-3">
        <Shield className="h-8 w-8 text-primary" client:load />
        <span class="font-semibold">Licensed & Insured</span>
      </div>
      <div class="flex items-center gap-3">
        <Award className="h-8 w-8 text-primary" client:load />
        <span class="font-semibold">25+ Years Experience</span>
      </div>
      <div class="flex items-center gap-3">
        <Clock className="h-8 w-8 text-primary" client:load />
        <span class="font-semibold">24/7 Emergency Service</span>
      </div>
      <div class="flex items-center gap-3">
        <CheckCircle className="h-8 w-8 text-primary" client:load />
        <span class="font-semibold">Lifetime Warranty</span>
      </div>
    </div>
  </Section>
  
  <!-- Main Content -->
  <Section>
    <div class="mx-auto max-w-4xl">
      <div class="prose prose-lg max-w-none
        prose-headings:font-bold prose-headings:text-foreground
        prose-h1:text-4xl prose-h2:text-3xl prose-h3:text-2xl
        prose-p:text-foreground prose-p:leading-relaxed
        prose-a:text-primary prose-a:underline-offset-4 hover:prose-a:underline
        prose-strong:text-foreground prose-strong:font-semibold
        prose-ul:list-disc prose-ul:pl-6
        prose-ol:list-decimal prose-ol:pl-6
        prose-li:my-2
        prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:pl-6 prose-blockquote:italic
        prose-img:rounded-lg prose-img:shadow-lg
        prose-table:overflow-x-auto
        prose-th:bg-muted prose-th:p-3
        prose-td:p-3 prose-td:border-b
      ">
        <Content />
      </div>
    </div>
  </Section>
  
  <!-- CTA Section -->
  <div class="bg-primary py-24 md:py-32">
    <div class="container mx-auto px-4 md:px-6">
      <div class="text-center space-y-6">
        <h2 class="text-4xl font-bold text-white">
          Ready to Experience the DrySpace Difference?
        </h2>
        <p class="text-xl text-white/90 max-w-2xl mx-auto">
          Join thousands of satisfied Toronto homeowners who trust DrySpace for their waterproofing needs.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <AstroButton 
            href="/contact/" 
            size="lg"
            class="bg-white text-primary hover:bg-gray-100 gap-2"
          >
            Get Free Quote
            <ArrowRight className="h-5 w-5" client:load />
          </AstroButton>
          <AstroButton 
            href="tel:437-545-0067" 
            variant="outline" 
            size="lg"
            class="border-white text-white hover:bg-white/10"
          >
            Call (437) 545-0067
          </AstroButton>
        </div>
      </div>
    </div>
  </div>
</MainLayout>