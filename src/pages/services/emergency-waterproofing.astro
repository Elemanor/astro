---
import ServicePageTemplateV4 from '../../templates/ServicePageTemplateV4.astro';
import ServiceMainContent from '../../components/services/ServiceMainContent.astro';
import ContentSection from '../../components/content/ContentSection.astro';
import ProcessList from '../../components/content/ProcessList.astro';
import FeatureGrid from '../../components/content/FeatureGrid.astro';
import CalloutBox from '../../components/content/CalloutBox.astro';
import Timeline from '../../components/content/Timeline.astro';
import QuestionAnswer from '../../components/content/QuestionAnswer.astro';
import ServiceLinks from '../../components/content/ServiceLinks.astro';
import VideoEmbed from '../../components/content/VideoEmbed.astro';
import { Star, Phone, Shield, Clock, AlertTriangle, Zap } from 'lucide-react';

// Service data for V4 template
const pageData = {
  serviceName: "Emergency Basement Waterproofing",
  serviceTitle: "Emergency Basement Waterproofing Services | 24/7 Crisis Response",
  serviceSubtitle: "Professional Emergency Response Team - Available 24/7",
  serviceDescription: "Professional emergency waterproofing services for basement flooding crises. Complete service solutions from assessment to permanent repair. Toronto & GTA emergency contractors.",
  heroBadge: "24/7 Emergency Service",
  heroImage: "/images/services/emergency-waterproofing-hero.jpg",
  heroFeatures: [
    "2-hour response time",
    "24/7 availability",
    "Insurance direct billing",
    "Complete water extraction",
    "Immediate leak stopping"
  ],
  startingPrice: "Emergency Response",
  priceRange: "Insurance Covered",
  
  processSteps: [
    {
      title: "Emergency Dispatch",
      description: "2-hour response time with fully equipped emergency vehicles",
      icon: "zap"
    },
    {
      title: "Immediate Assessment",
      description: "Rapid evaluation of damage and water source identification",
      icon: "search"
    },
    {
      title: "Water Extraction",
      description: "Industrial pumps remove up to 5,000 gallons per hour",
      icon: "droplets"
    },
    {
      title: "Permanent Repair",
      description: "Complete solution to prevent future flooding emergencies",
      icon: "shield"
    }
  ],
  
  benefits: [
    {
      title: "2-Hour Response Time",
      description: "Fastest emergency response in the GTA with fully equipped vehicles"
    },
    {
      title: "24/7 Availability",
      description: "Round-the-clock emergency service every day of the year"
    },
    {
      title: "Insurance Direct Billing",
      description: "We handle all insurance paperwork and bill directly when possible"
    },
    {
      title: "Complete Water Extraction",
      description: "Industrial equipment removes thousands of gallons quickly"
    },
    {
      title: "Immediate Leak Stopping",
      description: "Rapid-set materials stop active water entry within minutes"
    },
    {
      title: "Prevent Mold Growth",
      description: "Fast drying prevents mold and structural damage"
    }
  ],
  
  relatedServices: [
    {
      title: "Foundation Crack Repair",
      url: "/services/foundation-crack-repair/",
      description: "Stop leaks at the source with permanent crack repair",
      image: "/images/services/crack-repair.jpg"
    },
    {
      title: "Interior Waterproofing",
      url: "/services/interior-waterproofing/",
      description: "Permanent water management systems",
      image: "/images/services/interior-waterproofing.jpg"
    },
    {
      title: "Sump Pump Installation",
      url: "/services/sump-pump-installation/",
      description: "Prevent future flooding with backup systems",
      image: "/images/services/sump-pump.jpg"
    }
  ],
  
  serviceFaqs: [
    {
      question: "How quickly can you really respond to emergencies?",
      answer: "Our emergency response times: Downtown Toronto (30-45 minutes), North York/Scarborough (45-60 minutes), Mississauga/Etobicoke (45-60 minutes), Hamilton/Burlington (60-90 minutes). We maintain emergency vehicles throughout the GTA for rapid response."
    },
    {
      question: "What should I do while waiting for emergency service?",
      answer: "Turn off electricity to affected areas, move valuables to higher ground, try to identify the water source, document damage with photos for insurance, and avoid contact with contaminated water. Do NOT attempt repairs yourself."
    },
    {
      question: "Will insurance cover emergency waterproofing services?",
      answer: "Most home insurance policies cover sudden water damage and emergency mitigation services. We work directly with insurance companies, provide detailed documentation, and can often bill directly to expedite the process."
    },
    {
      question: "Can you provide permanent solutions during emergencies?",
      answer: "Yes! Our emergency vehicles carry permanent repair materials. We can often complete crack injection, sump pump installation, and other permanent repairs during the same visit, preventing future emergencies."
    }
  ]
};

// Data for styled components  
const emergencyServices = [
  {
    title: "Immediate Water Extraction",
    description: "Truck-mounted extraction units remove up to 5,000 gallons per hour",
    icon: "zap",
    highlight: true
  },
  {
    title: "Emergency Leak Stopping",
    description: "Hydraulic cement and rapid-set injection materials stop active water entry",
    icon: "shield"
  },
  {
    title: "Rapid Drying Systems",
    description: "Industrial dehumidifiers and air movers prevent mold growth",
    icon: "wind"
  },
  {
    title: "Insurance Coordination", 
    description: "Complete documentation and direct billing when possible",
    icon: "file-text"
  },
  {
    title: "Structural Assessment",
    description: "Licensed professionals evaluate damage and safety concerns",
    icon: "search"
  },
  {
    title: "Permanent Repairs",
    description: "Complete solutions to prevent future flooding emergencies",
    icon: "wrench"
  }
];

const emergencyProcess = [
  {
    title: "Emergency Call Received",
    subtitle: "Immediate Dispatch",
    description: "24/7 emergency hotline connects you to response coordinator:",
    items: [
      "Assess urgency and water source",
      "Dispatch nearest emergency vehicle",
      "Provide immediate safety guidance",
      "Begin insurance documentation"
    ],
    image: "/images/process/emergency-call.jpg"
  },
  {
    title: "Rapid Response Arrival",
    subtitle: "2-Hour Maximum",
    description: "Fully equipped emergency vehicle arrives with:",
    items: [
      "Industrial water extraction pumps",
      "Rapid-set repair materials",
      "Professional drying equipment",
      "Safety and testing equipment"
    ],
    image: "/images/process/emergency-arrival.jpg"
  },
  {
    title: "Immediate Stabilization",
    subtitle: "Stop Further Damage",
    description: "Emergency technicians immediately:",
    items: [
      "Stop active water infiltration",
      "Extract standing water",
      "Begin rapid drying process",
      "Document damage for insurance"
    ],
    image: "/images/process/emergency-stabilization.jpg"
  },
  {
    title: "Permanent Solution",
    subtitle: "Prevent Future Emergencies",
    description: "Complete the job with permanent repairs:",
    items: [
      "Professional crack injection",
      "Sump pump installation",
      "Drainage system upgrades",
      "Comprehensive warranty"
    ],
    image: "/images/process/permanent-repair.jpg"
  }
];

const responseAreas = [
  {
    title: "Downtown Toronto",
    description: "30-45 minute response • Heritage home specialists • High-rise expertise",
    icon: "building",
    responseTime: "30-45 min"
  },
  {
    title: "North York & Scarborough", 
    description: "45-60 minute response • Clay soil experts • Multi-level homes",
    icon: "compass",
    responseTime: "45-60 min"
  },
  {
    title: "Mississauga & Etobicoke",
    description: "45-60 minute response • Lake shore properties • Flood zone specialists",
    icon: "waves", 
    responseTime: "45-60 min"
  },
  {
    title: "Hamilton & Burlington",
    description: "60-90 minute response • Escarpment properties • Foundation specialists",
    icon: "mountain",
    responseTime: "60-90 min"
  }
];

const warningSignsData = [
  {
    title: "Call Immediately",
    description: "These situations require emergency response within 2 hours",
    icon: "phone",
    highlight: true
  },
  {
    title: "Standing Water",
    description: "Any amount of standing water in your basement",
    icon: "droplets"
  },
  {
    title: "Active Water Entry",
    description: "Water actively entering through cracks or joints",
    icon: "trending-down"
  },
  {
    title: "Sewage Backup",
    description: "Contaminated water poses serious health risks", 
    icon: "alert-triangle"
  },
  {
    title: "Power at Risk",
    description: "Water near electrical systems creates dangerous conditions",
    icon: "zap"
  },
  {
    title: "Structural Concerns",
    description: "New cracks or wall movement during flooding",
    icon: "triangle"
  }
];

const relatedResources = [
  {
    text: "Foundation Crack Repair",
    href: "/services/foundation-crack-repair/",
    description: "Stop emergency leaks at the source with permanent solutions",
    type: "internal",
    featured: true,
    image: "/images/services/crack-repair.jpg"
  },
  {
    text: "Basement Waterproofing",
    href: "/services/basement-waterproofing-toronto/",
    description: "Comprehensive systems to prevent future emergencies",
    type: "internal",
    badge: "Prevention"
  },
  {
    text: "Interior Waterproofing",
    href: "/services/interior-waterproofing/",
    description: "Interior drainage systems for flood prevention",
    type: "internal"
  },
  {
    text: "Sump Pump Service",
    href: "/services/sump-pump-installation/",
    description: "Emergency repair and installation of backup systems",
    type: "internal",
    badge: "Critical"
  },
  {
    text: "Emergency Hotline",
    href: "tel:437-545-0067",
    description: "24/7 emergency response - Call now for immediate help",
    type: "phone",
    badge: "24/7"
  }
];
---

<ServicePageTemplateV4 {...pageData}>
  <ServiceMainContent slot="mainContent">
    
    <!-- Hero Content Section -->
    <ContentSection 
      variant="emergency"
      title="Emergency Basement Flooding Response"
      subtitle="Professional crisis response team available 24/7"
      centered
    >
      <div class="bg-red-600/20 border-2 border-red-500 rounded-lg p-6 mb-8">
        <div class="flex items-center gap-3 mb-4">
          <AlertTriangle className="h-8 w-8 text-red-500" />
          <h3 class="text-2xl font-bold text-red-500">BASEMENT FLOODING EMERGENCY?</h3>
        </div>
        <p class="text-xl mb-4">
          <strong>Call Now: (437) 545-0067</strong> - Our emergency response team is standing by 24/7
        </p>
        <p class="text-lg">Average response time: 2 hours or less throughout the GTA</p>
      </div>
      
      <p class="text-xl">
        When basement flooding strikes, every minute counts. Our certified emergency response team has been 
        protecting GTA homes from water damage for over 15 years. With fully equipped vehicles stationed 
        throughout Toronto, we provide the fastest response times and most comprehensive emergency services.
      </p>
      
      <div class="mt-8 grid md:grid-cols-4 gap-4 text-center">
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-red-500">2 HR</div>
          <div class="text-sm">Max Response</div>
        </div>
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-red-500">24/7</div>
          <div class="text-sm">Every Day</div>
        </div>
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-red-500">5,000</div>
          <div class="text-sm">Gal/Hour Pumps</div>
        </div>
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-red-500">100%</div>
          <div class="text-sm">Insurance Work</div>
        </div>
      </div>
    </ContentSection>

    <!-- Emergency Services Grid -->
    <FeatureGrid 
      title="Complete Emergency Services"
      subtitle="Comprehensive crisis response and permanent solutions"
      features={emergencyServices}
      variant="bento"
      backgroundPattern={true}
    />

    <!-- Emergency Process -->
    <ProcessList 
      title="Emergency Response Process"
      subtitle="From crisis call to permanent solution in one visit"
      items={emergencyProcess}
      variant="timeline"
      showImages={true}
      numbered={true}
    />

    <!-- Response Areas -->
    <ContentSection 
      title="GTA Emergency Response Areas"
      subtitle="Strategically positioned for fastest response times"
      variant="pattern"
      centered
    >
      <div class="grid md:grid-cols-2 gap-6 mb-8">
        {responseAreas.map((area) => (
          <div class="bg-white/10 p-6 rounded-lg">
            <div class="flex items-center justify-between mb-3">
              <h4 class="text-xl font-bold">{area.title}</h4>
              <span class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                {area.responseTime}
              </span>
            </div>
            <p class="text-gray-300">{area.description}</p>
          </div>
        ))}
      </div>
      
      <CalloutBox type="emergency" title="Immediate Response Available">
        <p>Don't wait for regular business hours. Our emergency teams are equipped and ready to respond 24/7, 365 days a year. Weather conditions don't stop us.</p>
      </CalloutBox>
    </ContentSection>

    <!-- Video Section -->
    <VideoEmbed 
      title="Emergency Response in Action"
      videoId="dQw4w9WgXcQ"
      platform="youtube"
      description="Watch our emergency response team handle a severe basement flooding situation from initial call to permanent repair completion."
      caption="Actual emergency response - North York flooding incident"
    />

    <!-- When to Call -->
    <ContentSection 
      variant="dark"
      title="When to Call Emergency Services"
      subtitle="Don't wait - these situations require immediate response"
      centered
    >
      <FeatureGrid 
        features={warningSignsData}
        variant="gradient"
        columns={2}
      />
      
      <div class="mt-8 space-y-4">
        <CalloutBox type="emergency" title="Call Immediately: (437) 545-0067">
          <p>Water damage doubles every hour. Our emergency response prevents catastrophic damage and saves thousands in repairs.</p>
        </CalloutBox>
        
        <CalloutBox type="warning" title="Safety First">
          <p>Never enter a flooded basement with electrical power still on. Never attempt to repair active water entry yourself. Let our professionals handle dangerous situations safely.</p>
        </CalloutBox>
      </div>
    </ContentSection>

    <!-- Success Story -->
    <ContentSection 
      variant="gradient"
      title="Emergency Response Success Story"
      backgroundImage="/images/testimonials/emergency-bg.jpg"
      overlayOpacity={0.8}
      fullWidth
      centered
    >
      <div class="max-w-3xl mx-auto">
        <p class="text-xl italic mb-6">
          "At 2 AM during a storm, water was pouring into our finished basement. DrySpace arrived in 45 minutes, 
          stopped the leak, and had everything dry by morning. They even completed permanent repairs the same day!"
        </p>
        <p class="text-lg">— Sarah M., Mississauga</p>
        <div class="mt-6">
          <span class="inline-flex items-center gap-2 text-yellow-400">
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <span class="text-white ml-2">5.0/5 Emergency Service Rating</span>
          </span>
        </div>
      </div>
    </ContentSection>

    <!-- FAQ Section -->
    <ContentSection 
      title="Emergency Service FAQs"
      variant="pattern"
      centered
    >
      <div class="grid gap-6 md:grid-cols-2">
        <QuestionAnswer 
          question="What should I do while waiting for emergency service?"
          variant="card"
        >
          <p>Turn off electricity to affected areas, move valuables to higher ground, try to identify the water source, document damage with photos for insurance, and avoid contact with contaminated water. Do NOT attempt repairs yourself.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="Will insurance cover emergency services?"
          variant="card"
        >
          <p>Most home insurance policies cover sudden water damage and emergency mitigation services. We work directly with insurance companies, provide detailed documentation, and can often bill directly to expedite the process.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="Can you provide permanent solutions during emergencies?"
          variant="card"
        >
          <p>Yes! Our emergency vehicles carry permanent repair materials. We can often complete crack injection, sump pump installation, and other permanent repairs during the same visit, preventing future emergencies.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="Do you respond to all types of water emergencies?"
          variant="card"
        >
          <p>We handle all basement water emergencies: foundation leaks, sump pump failures, sewage backups, storm flooding, pipe bursts, and any water intrusion situation. Our team is equipped for any scenario.</p>
        </QuestionAnswer>
      </div>
    </ContentSection>

    <!-- Related Services -->
    <ServiceLinks 
      title="Emergency & Prevention Services"
      subtitle="Complete solutions for water emergencies and prevention"
      links={relatedResources}
      variant="featured"
      showImages={true}
    />

    <!-- Final Emergency CTA -->
    <ContentSection 
      variant="emergency"
      title="Don't Wait - Call Our Emergency Hotline Now"
      subtitle="24/7 response • 2-hour maximum • Insurance direct billing"
      centered
      fullWidth
    >
      <div class="bg-red-600 p-8 rounded-2xl mt-8">
        <div class="text-center space-y-6">
          <div class="flex items-center justify-center gap-3">
            <Phone className="h-12 w-12 text-white animate-pulse" />
            <h3 class="text-4xl font-bold text-white">(437) 545-0067</h3>
          </div>
          <p class="text-xl text-white max-w-2xl mx-auto">
            Emergency basement flooding response available 24/7, 365 days a year. 
            Our emergency team is standing by with fully equipped vehicles throughout the GTA.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="tel:437-545-0067" class="inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-red-600 bg-white rounded-full shadow-xl hover:bg-gray-100 transition-all hover:-translate-y-0.5">
              <Phone className="h-5 w-5 mr-2" />
              Call Emergency Hotline
            </a>
            <a href="/contact/" class="inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-white bg-red-800 rounded-full shadow-xl hover:bg-red-900 transition-all hover:-translate-y-0.5">
              Prevention Assessment
            </a>
          </div>
          <p class="text-white/80 text-sm">
            Fastest response in GTA • Insurance approved • Licensed professionals
          </p>
        </div>
      </div>
    </ContentSection>

  </ServiceMainContent>
</ServicePageTemplateV4>