---
import ServicePageTemplateV4 from '../../templates/ServicePageTemplateV4.astro';
import ServiceMainContent from '../../components/services/ServiceMainContent.astro';
import ContentSection from '../../components/content/ContentSection.astro';
import ProcessList from '../../components/content/ProcessList.astro';
import FeatureGrid from '../../components/content/FeatureGrid.astro';
import ComparisonTableV2 from '../../components/content/ComparisonTableV2.astro';
import CalloutBox from '../../components/content/CalloutBox.astro';
import Timeline from '../../components/content/Timeline.astro';
import QuestionAnswer from '../../components/content/QuestionAnswer.astro';
import ServiceLinks from '../../components/content/ServiceLinks.astro';
import VideoEmbed from '../../components/content/VideoEmbed.astro';
import { Star, Phone, Shield, Award, Clock, Wrench } from 'lucide-react';

// Service data for V4 template
const pageData = {
  serviceName: "Foundation Repair Toronto",
  serviceTitle: "Foundation Repair Toronto | Expert Structural Repair Services",
  serviceSubtitle: "Professional Structural Solutions for Toronto Foundations",
  serviceDescription: "Professional foundation repair in Toronto. Cracks, settlement, bowing walls, structural issues. Licensed engineers, lifetime warranties. Emergency service - Call (437) 545-0067.",
  heroBadge: "Licensed Engineers",
  heroImage: "/images/services/foundation-repair-hero.jpg",
  heroFeatures: [
    "Structural engineers on staff",
    "City permits included",
    "Insurance claims assistance",
    "Lifetime warranty",
    "Emergency service"
  ],
  startingPrice: "$1,999",
  priceRange: "$1,999-$15,999",
  
  processSteps: [
    {
      title: "Structural Assessment",
      description: "Licensed engineers identify crack types, causes, and structural impact",
      icon: "search"
    },
    {
      title: "Preparation & Cleaning", 
      description: "Clean cracks and prepare surfaces for optimal repair adhesion",
      icon: "brush"
    },
    {
      title: "Professional Repair",
      description: "Apply appropriate repair method - injection, stitching, or reinforcement",
      icon: "wrench"
    },
    {
      title: "Seal & Protect",
      description: "Waterproof seal and quality monitoring for lasting results",
      icon: "shield"
    }
  ],
  
  benefits: [
    {
      title: "Structural Stability",
      description: "Restore your foundation's integrity and prevent further damage"
    },
    {
      title: "Advanced Techniques", 
      description: "Latest repair methods including epoxy injection and carbon fiber reinforcement"
    },
    {
      title: "Long-Term Solutions",
      description: "Address root causes, not just symptoms, for lasting repairs"
    },
    {
      title: "Licensed Engineers",
      description: "Structural engineers on staff for complex foundation issues"
    },
    {
      title: "Lifetime Warranty",
      description: "Comprehensive warranty protects your investment and transfers to new homeowners"
    },
    {
      title: "24/7 Emergency Service",
      description: "Round-the-clock support when structural damage can't wait"
    }
  ],
  
  relatedServices: [
    {
      title: "Foundation Crack Repair",
      url: "/services/foundation-crack-repair/",
      description: "Specialized crack injection and sealing services",
      image: "/images/services/crack-repair.jpg"
    },
    {
      title: "Basement Waterproofing",
      url: "/services/basement-waterproofing-toronto/", 
      description: "Complete moisture protection for repaired foundations",
      image: "/images/services/basement-waterproofing.jpg"
    },
    {
      title: "Basement Underpinning",
      url: "/services/basement-underpinning/",
      description: "Strengthen and lower foundations safely",
      image: "/images/services/underpinning.jpg"
    }
  ],
  
  serviceFaqs: [
    {
      question: "What causes foundation cracks?",
      answer: "Foundation cracks result from settling, soil pressure, freeze-thaw cycles, water damage, or poor construction. Early repair prevents water infiltration and structural issues."
    },
    {
      question: "Are foundation cracks serious?",
      answer: "It depends on the type. Vertical hairline cracks are often cosmetic, while horizontal or widening cracks indicate structural issues requiring immediate attention."
    },
    {
      question: "What foundation repair method is best?",
      answer: "The best method depends on crack type and cause. We use epoxy injection for structural cracks, polyurethane for active leaks, and carbon fiber for reinforcement."
    },
    {
      question: "Is foundation repair permanent?",
      answer: "When properly diagnosed and repaired, foundation fixes are permanent. We address the underlying cause, not just symptoms, and back our work with comprehensive warranties."
    }
  ]
};

// Data for styled components
const foundationProblems = [
  {
    title: "Foundation Cracks",
    description: "Vertical, horizontal, diagonal, and step cracks in concrete or block foundations",
    icon: "trending",
    highlight: true
  },
  {
    title: "Foundation Settlement",
    description: "Uneven settling causing structural stress and movement",
    icon: "layers"
  },
  {
    title: "Bowing Walls",
    description: "Inward wall movement from hydrostatic pressure",
    icon: "zap"
  },
  {
    title: "Water Infiltration",
    description: "Leaks through foundation walls and floor joints",
    icon: "droplets"
  },
  {
    title: "Structural Damage",
    description: "Load-bearing compromises requiring immediate attention",
    icon: "shield"
  },
  {
    title: "Foundation Heaving",
    description: "Upward movement from soil expansion or frost",
    icon: "trending-up"
  }
];

const repairMethods = [
  {
    title: "Epoxy Injection",
    subtitle: "Structural Crack Repair",
    description: "Permanent repair for structural cracks:",
    items: [
      "Restores original concrete strength",
      "Creates waterproof seal",
      "Prevents crack expansion",
      "Lifetime warranty included"
    ],
    image: "/images/process/epoxy-injection.jpg"
  },
  {
    title: "Carbon Fiber Reinforcement",
    subtitle: "Wall Stabilization",
    description: "Advanced reinforcement system:",
    items: [
      "Stops inward wall movement",
      "10x stronger than steel",
      "Minimal interior space loss",
      "Permanent solution"
    ],
    image: "/images/process/carbon-fiber.jpg"
  },
  {
    title: "Helical Piers",
    subtitle: "Settlement Correction",
    description: "Foundation stabilization system:",
    items: [
      "Transfers load to stable soil",
      "Can lift settled foundations",
      "Minimal landscape disruption",
      "Engineered solution"
    ],
    image: "/images/process/helical-piers.jpg"
  }
];

const warningSignsData = [
  {
    title: "Immediate Attention Required",
    description: "These signs indicate serious structural issues requiring emergency assessment",
    icon: "alert-triangle"
  },
  {
    title: "Horizontal Cracks",
    description: "Indicate significant pressure and potential wall failure",
    icon: "minus"
  },
  {
    title: "Cracks Wider Than 1/4 Inch",
    description: "Large cracks compromise structural integrity",
    icon: "trending"
  },
  {
    title: "Multiple New Cracks",
    description: "Pattern suggests ongoing foundation movement",
    icon: "zap"
  },
  {
    title: "Doors/Windows Sticking",
    description: "Foundation movement affects door and window frames",
    icon: "square"
  },
  {
    title: "Water Infiltration",
    description: "Active leaks accelerate foundation deterioration",
    icon: "droplets"
  }
];

const projectTimeline = [
  {
    title: "Emergency Assessment",
    description: "Licensed engineer evaluates structural damage",
    duration: "Same day",
    status: "completed"
  },
  {
    title: "Detailed Engineering Report",
    description: "Comprehensive analysis with repair recommendations",
    duration: "1-2 days",
    status: "completed"
  },
  {
    title: "Permit Applications",
    description: "We handle all required structural permits",
    duration: "3-7 days",
    status: "active",
    milestone: true
  },
  {
    title: "Foundation Repair",
    description: "Professional repair using engineered solutions",
    duration: "1-5 days",
    status: "upcoming"
  },
  {
    title: "Final Inspection & Warranty",
    description: "Quality assurance with lifetime warranty documentation",
    duration: "Same day",
    status: "upcoming"
  }
];

const relatedResources = [
  {
    text: "Foundation Crack Repair",
    href: "/services/foundation-crack-repair/",
    description: "Specialized crack injection and sealing services",
    type: "internal",
    featured: true,
    image: "/images/services/crack-repair.jpg"
  },
  {
    text: "Basement Waterproofing",
    href: "/services/basement-waterproofing-toronto/",
    description: "Protect repaired foundations from water damage", 
    type: "internal",
    badge: "Popular"
  },
  {
    text: "Emergency Service",
    href: "/services/emergency-waterproofing/",
    description: "24/7 structural emergency response",
    type: "internal",
    badge: "24/7"
  },
  {
    text: "Wall Reinforcement",
    href: "/services/wall-reinforcement/",
    description: "Advanced structural wall support systems",
    type: "internal"
  },
  {
    text: "Free Assessment",
    href: "/contact/",
    description: "Schedule your free structural evaluation",
    type: "internal",
    badge: "Free"
  }
];
---

<ServicePageTemplateV4 {...pageData}>
  <ServiceMainContent slot="mainContent">
    
    <!-- Hero Content Section -->
    <ContentSection 
      variant="gradient"
      title="Toronto's Leading Foundation Repair Specialists"
      subtitle="Licensed engineers solving structural foundation problems"
      centered
    >
      <p class="text-xl">
        When your foundation shows signs of damage, you need more than a quick fix - you need engineered solutions. 
        Our licensed structural engineers and certified technicians have been repairing Toronto foundations for over 15 years, 
        using advanced techniques that address root causes for permanent results.
      </p>
      
      <div class="mt-8 grid md:grid-cols-4 gap-4 text-center">
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-primary">15+</div>
          <div class="text-sm">Years Experience</div>
        </div>
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-primary">3,000+</div>
          <div class="text-sm">Foundations Repaired</div>
        </div>
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-primary">100%</div>
          <div class="text-sm">Engineer Approved</div>
        </div>
        <div class="bg-white/10 p-4 rounded-lg">
          <div class="text-2xl font-bold text-primary">Lifetime</div>
          <div class="text-sm">Warranty</div>
        </div>
      </div>
    </ContentSection>

    <!-- Emergency CTA -->
    <CalloutBox 
      type="emergency" 
      title="Foundation Emergency?"
      animate={true}
    >
      <p>Structural foundation damage requires immediate attention. Our licensed engineers provide emergency assessments.</p>
      <p class="mt-4"><strong>Emergency Structural Hotline: (437) 545-0067</strong> - 24/7 emergency response</p>
    </CalloutBox>

    <!-- Foundation Problems Grid -->
    <FeatureGrid 
      title="Foundation Problems We Solve"
      subtitle="Comprehensive solutions for all foundation structural issues"
      features={foundationProblems}
      variant="bento"
      backgroundPattern={true}
    />

    <!-- Repair Methods Process -->
    <ProcessList 
      title="Advanced Foundation Repair Methods"
      subtitle="Engineered solutions for permanent foundation stability"
      items={repairMethods}
      variant="timeline"
      showImages={true}
      numbered={true}
    />

    <!-- Video Section -->
    <VideoEmbed 
      title="Watch: Professional Foundation Repair Process"
      videoId="dQw4w9WgXcQ"
      platform="youtube"
      description="See our structural engineers and certified technicians repair a severely damaged foundation using carbon fiber reinforcement and epoxy injection."
      caption="Recent foundation repair project in Toronto"
    />

    <!-- Warning Signs -->
    <ContentSection 
      variant="pattern"
      title="Foundation Damage Warning Signs"
      subtitle="When to call for immediate structural assessment"
      centered
    >
      <FeatureGrid 
        features={warningSignsData}
        variant="gradient"
        columns={2}
      />
      
      <CalloutBox type="warning" title="Don't Wait - Act Now">
        <p>Foundation damage gets progressively worse and more expensive to repair. What starts as a small crack can become a major structural issue requiring extensive reconstruction.</p>
      </CalloutBox>
    </ContentSection>

    <!-- Project Timeline -->
    <Timeline 
      title="Foundation Repair Process Timeline"
      subtitle="From emergency assessment to lifetime warranty"
      items={projectTimeline}
      variant="roadmap"
      animated={true}
    />

    <!-- Cost Information -->
    <ContentSection 
      title="Foundation Repair Investment Guide"
      variant="dark"
      centered
    >
      <p class="text-xl mb-8">
        Transparent pricing for professional foundation repair. Costs vary by damage type and repair method:
      </p>
      
      <div class="grid md:grid-cols-2 gap-6 mb-8">
        <div class="bg-white/10 p-6 rounded-lg">
          <h4 class="text-xl font-bold mb-4">Repair Methods</h4>
          <ul class="space-y-2">
            <li>• Crack injection: $500-$2,000</li>
            <li>• Carbon fiber: $3,000-$8,000</li>
            <li>• Helical piers: $1,200-$2,000 per pier</li>
            <li>• Wall reinforcement: $5,000-$15,000</li>
          </ul>
        </div>
        <div class="bg-white/10 p-6 rounded-lg">
          <h4 class="text-xl font-bold mb-4">What's Included</h4>
          <ul class="space-y-2">
            <li>• Structural engineer assessment</li>
            <li>• All permits and inspections</li>
            <li>• Professional installation</li>
            <li>• Lifetime warranty</li>
            <li>• 24/7 emergency support</li>
          </ul>
        </div>
      </div>
      
      <CalloutBox type="tip" title="Insurance Claims">
        <p>We work directly with insurance companies and provide detailed engineering reports for claims. Many foundation repairs qualify for coverage.</p>
      </CalloutBox>
    </ContentSection>

    <!-- Success Story -->
    <ContentSection 
      variant="gradient"
      title="Foundation Repair Success Story"
      backgroundImage="/images/testimonials/foundation-repair-bg.jpg"
      overlayOpacity={0.8}
      fullWidth
      centered
    >
      <div class="max-w-3xl mx-auto">
        <p class="text-xl italic mb-6">
          "Our 1960s home had multiple horizontal cracks and one wall was bowing inward. DrySpace's engineers designed 
          a carbon fiber reinforcement system that completely stabilized the foundation. Five years later - no new cracks!"
        </p>
        <p class="text-lg">— Robert K., Mississauga</p>
        <div class="mt-6">
          <span class="inline-flex items-center gap-2 text-yellow-400">
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <Star className="h-5 w-5 fill-yellow-400" />
            <span class="text-white ml-2">5.0/5 on Google Reviews</span>
          </span>
        </div>
      </div>
    </ContentSection>

    <!-- FAQ Section -->
    <ContentSection 
      title="Foundation Repair FAQs"
      variant="pattern"
      centered
    >
      <div class="grid gap-6 md:grid-cols-2">
        <QuestionAnswer 
          question="How long do foundation repairs last?"
          variant="card"
        >
          <p>When properly engineered and installed, our foundation repairs are permanent. We address the underlying cause of damage and use materials designed to last the lifetime of your home, backed by our lifetime warranty.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="Can foundation damage affect home value?"
          variant="card"
        >
          <p>Yes, significantly. Unrepaired foundation damage can reduce home value by 10-20% and make your property difficult to sell. Professional repairs actually increase value and provide buyer confidence.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="Do you work with insurance companies?"
          variant="card"
        >
          <p>Absolutely. We provide detailed engineering reports, work directly with adjusters, and handle all documentation for insurance claims. Many foundation repairs qualify for coverage, especially when caused by sudden events.</p>
        </QuestionAnswer>

        <QuestionAnswer 
          question="What's the difference between DIY and professional repair?"
          variant="card"
        >
          <p>DIY repairs are typically surface treatments that fail quickly. Professional repairs address root causes with engineered solutions, proper materials, and lifetime warranties. The cost difference is minimal compared to failed DIY attempts.</p>
        </QuestionAnswer>
      </div>
    </ContentSection>

    <!-- Related Services -->
    <ServiceLinks 
      title="Related Foundation Services"
      subtitle="Complete structural solutions for your home"
      links={relatedResources}
      variant="featured"
      showImages={true}
    />

    <!-- Final CTA -->
    <ContentSection 
      variant="gradient"
      title="Don't Let Foundation Damage Get Worse"
      subtitle="Licensed engineers • Lifetime warranty • Emergency service"
      centered
      fullWidth
    >
      <div class="mt-8 space-y-6 text-center">
        <p class="text-xl max-w-3xl mx-auto">
          Foundation damage doesn't fix itself - it only gets worse and more expensive. Get a professional 
          assessment from licensed structural engineers who understand Toronto's unique soil conditions.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/contact/" class="inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-white bg-primary rounded-full shadow-xl hover:bg-primary/90 transition-all hover:-translate-y-0.5">
            Get Free Assessment
          </a>
          <a href="tel:437-545-0067" class="inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-primary bg-white rounded-full shadow-xl hover:shadow-2xl transition-all hover:-translate-y-0.5">
            <Phone className="h-5 w-5 mr-2" />
            (437) 545-0067
          </a>
        </div>
        <p class="text-sm opacity-80">
          Emergency structural assessments • Same-day service • Licensed engineers
        </p>
      </div>
    </ContentSection>

  </ServiceMainContent>
</ServicePageTemplateV4>