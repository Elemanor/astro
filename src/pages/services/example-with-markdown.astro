---
// Example using the template with Markdown content
import ServicePageTemplate from '../../templates/ServicePageTemplate.astro';
import { getEntry } from 'astro:content';

// Get content from markdown file
const serviceEntry = await getEntry('services', 'basement-waterproofing-toronto');
const { Content } = await serviceEntry.render();

// Extract data from frontmatter
const { data } = serviceEntry;

// Prepare template props
const templateProps = {
  serviceName: data.title || "Basement Waterproofing",
  serviceTitle: data.hero?.title || data.title || "Basement Waterproofing Toronto",
  serviceSubtitle: data.hero?.subtitle || "Professional Waterproofing Solutions",
  serviceDescription: data.description || data.excerpt || "",
  
  startingPrice: data.pricing?.starting || "$1,500",
  priceRange: data.pricing?.range || "$1,500 - $8,000",
  
  heroStats: data.hero?.stats || [
    { value: "25+", label: "Years Experience" },
    { value: "5,000+", label: "Basements Protected" },
    { value: "100%", label: "Satisfaction Rate" },
    { value: "Lifetime", label: "Warranty" }
  ],
  
  tableOfContents: data.sections?.map(section => ({
    label: section.title,
    href: `#${section.id || section.title.toLowerCase().replace(/\s+/g, '-')}`
  })) || [],
  
  relatedServices: data.related_services || [],
  
  serviceFaqs: data.faq || []
};
---

<ServicePageTemplate {...templateProps}>
  <Fragment slot="content">
    <!-- Use the markdown content -->
    <Content />
  </Fragment>
</ServicePageTemplate>